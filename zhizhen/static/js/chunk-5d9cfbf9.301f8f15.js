(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d9cfbf9"],{"1ef0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderlist"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[e._v("订单列表")])],1),a("div",{staticClass:"ordermain"},[a("div",{staticClass:"orderfind"},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.formInline.orderno,callback:function(t){e.$set(e.formInline,"orderno",t)},expression:"formInline.orderno"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入下单用户昵称"},model:{value:e.formInline.nick,callback:function(t){e.$set(e.formInline,"nick",t)},expression:"formInline.nick"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入下单用户手机号"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formInline.goodsname,callback:function(t){e.$set(e.formInline,"goodsname",t)},expression:"formInline.goodsname"}})],1),a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"付款时间","end-placeholder":"付款时间","value-format":"yyyy-MM-dd"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}}),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择付款方式"},model:{value:e.formInline.paytype,callback:function(t){e.$set(e.formInline,"paytype",t)},expression:"formInline.paytype"}},[a("el-option",{attrs:{label:"支付宝支付",value:1}}),a("el-option",{attrs:{label:"微信支付",value:2}}),a("el-option",{attrs:{label:"余额支付",value:3}})],1)],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择订单状态"},model:{value:e.formInline.orderstate,callback:function(t){e.$set(e.formInline,"orderstate",t)},expression:"formInline.orderstate"}},[a("el-option",{attrs:{label:"待发货",value:"待发货"}}),a("el-option",{attrs:{label:"待收货",value:"待收货"}}),a("el-option",{attrs:{label:"待评价",value:"待评价"}}),a("el-option",{attrs:{label:"待支付",value:"待支付"}}),a("el-option",{attrs:{label:"已完成",value:"已完成"}}),a("el-option",{attrs:{label:"已取消",value:"已取消"}})],1)],1),a("el-form-item",[a("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.getfind}},[e._v("查询\n                    ")])],1)],1)],1),a("div",{staticClass:"orderdata"},[a("el-row",{staticStyle:{"margin-bottom":"12px"}},[a("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"iconfont iconinport"},on:{click:e.getexport}},[e._v("导出\n                ")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.$index+1)+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"orderNo",label:"订单编号"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),a("el-table-column",{attrs:{prop:"payTime",label:"付款时间"}}),a("el-table-column",{attrs:{prop:"nickName",label:"下单用户昵称"}}),a("el-table-column",{attrs:{prop:"phone",label:"下单用户手机号"}}),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"orderAmount",label:"订单金额"}}),a("el-table-column",{attrs:{label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.row.payType,expression:"scope.row.payType == 1"}]},[e._v("支付宝")]),a("p",{directives:[{name:"show",rawName:"v-show",value:2==t.row.payType,expression:"scope.row.payType == 2"}]},[e._v("微信")]),a("p",{directives:[{name:"show",rawName:"v-show",value:3==t.row.payType,expression:"scope.row.payType == 3"}]},[e._v("余额支付")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"订单状态"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.details(t.$index,t.row)}}},[e._v("详情\n                        ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"待发货"==t.row.status,expression:"scope.row.status == '待发货'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.deliver(t.$index,t.row)}}},[e._v("发货\n                        ")])]}}])})],1),a("div",{staticClass:"orderfoot",staticStyle:{display:"flex"}},[a("div",[a("span",[e._v("订单数量："+e._s(e.pagetotal))]),a("span",[e._v("订单金额："+e._s(e._f("numFilter")(e.sum))+"元")])]),a("div",{staticClass:"page",staticStyle:{"margin-left":"auto"}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])],1)]),a("el-dialog",{attrs:{title:"详情",visible:e.detailsVisible,width:"45%"},on:{"update:visible":function(t){e.detailsVisible=t}}},[a("div",{staticClass:"information"},[a("div",{staticStyle:{width:"100%",margin:"0 auto"}},[a("div",{staticClass:"ordermessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("订单信息")]),a("div",{staticClass:"ordernews"},[a("div",[e._v("订单编号："+e._s(e.detailsdata.orderNo))]),a("div",[e._v("下单时间："+e._s(e.detailsdata.createTime))]),a("div",[e._v("付款时间："+e._s(e.detailsdata.payTime))]),a("div",[e._v("订单状态："),a("span",{staticStyle:{color:"rgb(56, 118, 255)"}},[e._v(e._s(e.detailsdata.status))])]),a("div",[e._v("支付反方式：\n                            "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.detailsdata.payType,expression:"detailsdata.payType == 1"}]},[e._v("支付宝支付")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.detailsdata.payType,expression:"detailsdata.payType == 2"}]},[e._v("微信支付")]),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.detailsdata.payType,expression:"detailsdata.payType == 3"}]},[e._v("余额支付")])]),a("div",[e._v("实付金额："+e._s(e.detailsdata.orderAmount)+"元")]),a("div",[e._v("订单备注："+e._s(e.detailsdata.note))])]),a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.message,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.$index+1)+"\n                            ")]}}])}),a("el-table-column",{attrs:{label:"商品封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.coverImg,height:"50",width:"50"}})]}}])}),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"goodsclass",label:"商品分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.firstCateName)+"-"+e._s(t.row.secondCateName)+"\n                            ")]}}])}),a("el-table-column",{attrs:{prop:"num",label:"数量"}}),a("el-table-column",{attrs:{prop:"specsSeal",label:"规格"}}),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),a("el-table-column",{attrs:{prop:"total",label:"总价"}}),a("el-table-column",{attrs:{label:"售后状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.row.refundStatus,expression:"scope.row.refundStatus == 1"}]},[e._v("申请中")]),a("p",{directives:[{name:"show",rawName:"v-show",value:2==t.row.refundStatus,expression:"scope.row.refundStatus == 2"}]},[e._v("退货中")]),a("p",{directives:[{name:"show",rawName:"v-show",value:3==t.row.refundStatus,expression:"scope.row.refundStatus == 3"}]},[e._v("退款成功")]),a("p",{directives:[{name:"show",rawName:"v-show",value:4==t.row.refundStatus,expression:"scope.row.refundStatus == 4"}]},[e._v("退款失败")])]}}])}),a("el-table-column",{attrs:{label:"售后详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:""!=t.row.refundStatus,expression:"scope.row.refundStatus != ''"}],staticStyle:{color:"rgb(56, 118, 255)"},on:{click:function(a){e.afterSale=!0,e.getRefundDetail(t.row)}}},[e._v("售后详情")])]}}])})],1)],1),a("div",{staticClass:"ordermessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("下单信息")]),a("div",{staticClass:"ordernews"},[a("div",[e._v("用户昵称："+e._s(e.detailsdata.nickName))]),a("div",[e._v("用户手机号："+e._s(e.detailsdata.phone))]),a("div",[e._v("收货人姓名："+e._s(e.detailsdata.receiver))]),a("div",[e._v("收货人手机号："+e._s(e.detailsdata.receiverPhone))]),a("div",[e._v("收货地址："+e._s(e.detailsdata.areaName)+e._s(e.detailsdata.addressDetail))])])],1),a("div",{staticClass:"ordermessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("发货信息")]),a("div",{staticClass:"ordernews"},[a("div",[e._v("物流公司："+e._s(e.detailsdata.logisticsComName))]),a("div",[e._v("物流单号："+e._s(e.detailsdata.logisticsNo))])])],1),a("div",{staticClass:"ordermessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("评价信息")]),a("div",{staticClass:"ordernews"},[a("div",[e._v("评价时间："+e._s(e.detailsdata.evalTime))]),a("div",[e._v("评价内容："+e._s(e.detailsdata.content))])]),a("div",{staticClass:"evaluatebox"},[a("span",[e._v("评价图片：")]),a("div",{staticClass:"evaluateimg"},e._l(e.evaluationImgList,(function(e){return a("img",{key:e.evalImgId,attrs:{src:e.src,alt:""}})})),0)])],1)])])]),a("el-dialog",{attrs:{title:"发货",visible:e.deliverVisible,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.deliverVisible=t}}},[a("div",{staticClass:"information"},[a("div",{staticClass:"deliverboxs",staticStyle:{width:"60%",margin:"0 auto"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"80px"}},[a("el-form-item",{staticClass:"wuliu",attrs:{label:"物流公司",required:""}},[a("el-select",{attrs:{placeholder:"请选择物流公司"},on:{change:e.getLogisticsId},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}},e._l(e.logistics,(function(e){return a("el-option",{key:e.logisticsComId,attrs:{label:e.logisticsComName,value:e.logisticsComId}})})),1)],1),a("el-form-item",{staticClass:"logisticsNo",attrs:{label:"物流单号",required:""}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.ruleForm.logisticsNo,callback:function(t){e.$set(e.ruleForm,"logisticsNo",t)},expression:"ruleForm.logisticsNo"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:e.getdeliverGoods}},[e._v("确定\n                        ")])],1)],1)],1)])]),a("el-dialog",{attrs:{title:"查看售后",visible:e.afterSale,width:"25%"},on:{"update:visible":function(t){e.afterSale=t}}},[a("div",{staticClass:"information"},[a("div",{staticStyle:{width:"100%",margin:"0 auto"}},[a("div",{staticClass:"salemessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("申请信息")]),a("div",{staticClass:"salenews"},[a("div",[e._v("退款编号："+e._s(e.saledetails.refundNo))]),a("div",[e._v("退款金额："+e._s(e.saledetails.refundAmount)+"元")]),a("div",[e._v("申请时间："+e._s(e.saledetails.createTime))]),a("div",[e._v("退货理由："+e._s(e.saledetails.refundReason))])]),a("div",{staticClass:"evaluatebox"},[a("span",[e._v("图片：")]),a("div",{staticClass:"evaluateimg"},e._l(e.refundImgList,(function(e){return a("img",{key:e.orderRefundImgId,attrs:{src:e.src,alt:""}})})),0)])],1),a("div",{staticClass:"salemessage"},[a("P",[a("i",{staticClass:"iconfont iconjinqi"}),e._v("审核信息")]),a("div",[e._v("审核状态：\n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.saledetails.refundStatus,expression:"saledetails.refundStatus == 1"}]},[e._v("待审核")]),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.saledetails.refundStatus,expression:"saledetails.refundStatus == 3"}]},[e._v("审核通过")]),a("span",{directives:[{name:"show",rawName:"v-show",value:4==e.saledetails.refundStatus,expression:"saledetails.refundStatus == 4"}]},[e._v("审核不通过")])])],1)])])])],1)},i=[],o=(a("ac6a"),{data:function(){return{activeIndex2:"1",pageNum:1,pageSize:10,pagetotal:0,token:localStorage.getItem("token"),formInline:{orderno:"",nick:"",phone:"",goodsname:"",time:"",paytype:"",orderstate:""},findTime:{startTime:"",endTime:""},tableData:[],detailsVisible:!1,detailsdata:{},evaluationImgList:[],totalPrice:0,message:[],deliverVisible:!1,oid:"",ruleForm:{logisticsNo:"",region:""},logistics:[],rules:{region:[{required:!0}],logisticsNo:[{required:!0}]},afterSale:!1,saledetails:{},refundImgList:[],sum:0}},methods:{handleSelect:function(e,t){console.log(e,t)},handleSelectionChange:function(e){this.multipleSelection=e},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getfind()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.getfind()},getexport:function(){var e={token:this.token,type:3};this.$download("http://manager.zhizhennengyuan.com:8000/manage/export",e,"订单列表").then((function(e){console.log(e,"res1")}))},getPaytype:function(e){console.log(e),this.formInline.paytype=e,console.log(this.formInline.paytype)},getOrderstate:function(e){console.log(e),1==e?this.formInline.orderstate="待发货":2==e?this.formInline.orderstate="待收货":3==e?this.formInline.orderstate="待评价":4==e&&(this.formInline.orderstate="已完成"),console.log(this.formInline.orderstate)},getfind:function(){var e=this;this.$api.post({path:"/manage/getOrderList",params:{token:this.token,orderNo:this.formInline.orderno,nickName:this.formInline.nick,phone:this.formInline.phone,goodsName:this.formInline.goodsname,startTime:this.formInline.time[0],endTime:this.formInline.time[1],payType:this.formInline.paytype,status:this.formInline.orderstate,pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){console.log(t),e.tableData=t.data.list,e.sum=t.data.sum,e.pagetotal=t.data.total}})},details:function(e,t){var a=this;console.log(e,t),this.detailsVisible=!0,this.$api.post({path:"/manage/getOrderDetails",params:{token:this.token,oid:t.oid},success:function(e){console.log(e),a.detailsdata=e.data,a.message=e.data.orderGoodsList,a.evaluationImgList=e.data.evaluationImgList}})},deliver:function(e,t){console.log(e,t),this.deliverVisible=!0,this.oid=t.oid},getAllLogisticsCompany:function(){var e=this;this.$api.post({path:"/manage/getAllLogisticsCompany",params:{token:this.token},success:function(t){console.log(t),e.logistics=t.data}})},getLogisticsId:function(e){this.ruleForm.region=e,console.log(this.ruleForm.region)},getdeliverGoods:function(){var e=this;""==this.ruleForm.region||""==this.ruleForm.logisticsNo?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/deliverGoods",params:{token:this.token,oid:this.oid,logisticsComId:this.ruleForm.region,logisticsNo:this.ruleForm.logisticsNo},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.deliverVisible=!1,e.ruleForm.region="",e.ruleForm.logisticsNo="",e.getfind())}})},getRefundDetail:function(e){var t=this;console.log(e),this.$api.post({path:"/manage/getRefundDetail",params:{token:this.token,refundId:e.refundId},success:function(e){console.log(e),t.saledetails=e.data,t.refundImgList=e.data.orderRefundImgList}})},totalP:function(){var e=0;this.tableData.forEach((function(t){e+=t.orderAmount})),console.log(this.tableData),this.totalPrice=e}},mounted:function(){this.getfind(),this.getAllLogisticsCompany()},filters:{numFilter:function(e){var t=parseFloat(e).toFixed(2);return t}},watch:{"formInline.time":function(e){null==e&&(this.formInline.time=[])}}}),l=o,n=(a("9166"),a("2877")),r=Object(n["a"])(l,s,i,!1,null,null,null);t["default"]=r.exports},3603:function(e,t,a){},9166:function(e,t,a){"use strict";var s=a("3603"),i=a.n(s);i.a}}]);