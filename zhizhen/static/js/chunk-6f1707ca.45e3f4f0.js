(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1707ca"],{"83de":function(e,t,o){"use strict";var l=o("9b56"),a=o.n(l);a.a},"910e":function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hotgoods"},[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[e._v("热卖商品")])],1),o("div",{staticClass:"hotmain"},[o("div",{staticClass:"hotfind"},[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formInline.goodsname,callback:function(t){e.$set(e.formInline,"goodsname",t)},expression:"formInline.goodsname"}})],1),o("el-form-item",[o("el-select",{attrs:{placeholder:"请选择一级分类"},on:{change:e.seloneCate},model:{value:e.formInline.classA,callback:function(t){e.$set(e.formInline,"classA",t)},expression:"formInline.classA"}},[o("el-option",{attrs:{label:"请选择一级分类",value:""}}),e._l(e.oneCateLiat,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cateName,value:e.cateId}})}))],2)],1),o("el-form-item",[o("el-select",{attrs:{placeholder:"请选择二级分类"},model:{value:e.formInline.classB,callback:function(t){e.$set(e.formInline,"classB",t)},expression:"formInline.classB"}},[o("el-option",{attrs:{label:"请选择二级分类",value:""}}),e._l(e.twoCateLiat,(function(e){return o("el-option",{key:e.cateId,attrs:{label:e.cateName,value:e.cateId}})}))],2)],1),o("el-form-item",[o("el-select",{attrs:{placeholder:"请选择状态"},on:{change:e.getfindType},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[o("el-option",{attrs:{label:"请选择状态",value:""}}),o("el-option",{attrs:{label:"上架",value:"1"}}),o("el-option",{attrs:{label:"下架",value:"1"}})],1)],1),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.getHotlist}},[e._v("查询\n          ")])],1)],1)],1),o("div",{staticClass:"hotdata"},[o("el-row",{staticStyle:{"margin-bottom":"12px"}},[o("el-button",{staticClass:"commonbtn",attrs:{size:"small"},on:{click:function(t){e.selectVisible=!0}}},[e._v("选择商品\n        ")]),o("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:function(t){e.outVisible=!0}}},[e._v("删除")])],1),o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1)+"\n          ")]}}])}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goodsclass",label:"商品分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.oneCateName)+"-"+e._s(t.row.twoCateName)+"\n          ")]}}])}),o("el-table-column",{attrs:{label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.coverImg,width:"50",height:"50"}})]}}])}),o("el-table-column",{attrs:{prop:"originalProice",label:"原价"}}),o("el-table-column",{attrs:{prop:"memberPrice",label:"会员价"}}),o("el-table-column",{attrs:{prop:"costPrice",label:"成本价"}}),o("el-table-column",{attrs:{prop:"provider",label:"供应商"}}),o("el-table-column",{attrs:{prop:"state",label:"状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.shelfStatus,expression:"scope.row.shelfStatus == '1'"}]},[e._v("上架")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.shelfStatus,expression:"scope.row.shelfStatus == '2'"}]},[e._v("下架")])]}}])})],1),o("div",{staticClass:"page",staticStyle:{display:"flex"}},[o("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"margin-left":"auto"}},[o("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)]),o("el-dialog",{attrs:{title:"选择商品",visible:e.selectVisible,width:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.selectVisible=t}}},[o("div",{staticClass:"information select"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-row",{staticStyle:{"margin-bottom":"12px"}},[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.selectform,size:"small"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.selectform.goodsName,callback:function(t){e.$set(e.selectform,"goodsName",t)},expression:"selectform.goodsName"}})],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择一级分类"},on:{change:e.seleconeCate},model:{value:e.selectform.classA,callback:function(t){e.$set(e.selectform,"classA",t)},expression:"selectform.classA"}},e._l(e.selectform.oneCateLiat,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择二级分类"},model:{value:e.selectform.classB,callback:function(t){e.$set(e.selectform,"classB",t)},expression:"selectform.classB"}},e._l(e.selectform.twoCateLiat,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},on:{change:e.selsectType},model:{value:e.selectform.region,callback:function(t){e.$set(e.selectform,"region",t)},expression:"selectform.region"}},[o("el-option",{attrs:{label:"上架",value:"1"}}),o("el-option",{attrs:{label:"下架",value:"2"}})],1)],1),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.selgoodsFind}},[e._v("查询\n              ")]),o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.addHomeGoods()}}},[e._v("确定\n              ")])],1)],1)],1),o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.selectData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.SelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.$index+1)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),o("el-table-column",{attrs:{label:"商品分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.oneCateName)+"-"+e._s(t.row.twoCateName)+"\n            ")]}}])}),o("el-table-column",{attrs:{label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.coverImg,width:"50",height:"50"}})]}}])}),o("el-table-column",{attrs:{prop:"originalProice",label:"原价"}}),o("el-table-column",{attrs:{prop:"memberPrice",label:"会员价"}}),o("el-table-column",{attrs:{prop:"costPrice",label:"成本价"}}),o("el-table-column",{attrs:{prop:"provider",label:"供应商"}}),o("el-table-column",{attrs:{prop:"state",label:"状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.shelfStatus,expression:"scope.row.shelfStatus == '1'"}]},[e._v("上架")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.shelfStatus,expression:"scope.row.shelfStatus == '2'"}]},[e._v("下架")])]}}])})],1),o("div",{staticClass:"page",staticStyle:{position:"relative",width:"100%"}},[o("div",{staticClass:"grid-content bg-purple-light",staticStyle:{position:"absolute",right:"0"}},[o("el-pagination",{attrs:{background:"","current-page":e.selectform.pageNum,"page-size":e.selectform.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.selectform.pagetotal},on:{"size-change":e.selSizeChange,"current-change":e.selCurrentChange}})],1)])],1)])]),o("el-dialog",{attrs:{title:"删除",visible:e.outVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.outVisible=t}}},[o("span",[e._v("确认删除？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outVisible=!1,e.delHotGoods()}}},[e._v("确 定")])],1)])],1)},a=[],s=(o("ac6a"),{data:function(){return{activeIndex2:"1",pageNum:1,token:localStorage.getItem("token"),pagetotal:0,pageSize:10,outVisible:!1,oneCateid:"",oneCateLiat:[],twoCateid:"",twoCateLiat:[],formInline:{goodsName:"",classA:"",classB:"",region:""},tableData:[],selectVisible:!1,selectform:{goodsName:"",classA:"",classB:"",region:"",oneCateLiat:[],twoCateLiat:[],pageNum:1,pageSize:10,pagetotal:0},selectData:[],goodsIds:[],goodsHotIds:[],multipleSelection:{}}},methods:{handleSelect:function(e,t){console.log(e,t)},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getHotlist()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.getHotlist()},getCate:function(e,t){var o=this;this.$api.post({path:"/manage/getCate",params:{token:this.token,cateId:e},success:function(e){1==t?o.oneCateLiat=e.data:o.twoCateLiat=e.data}})},seloneCate:function(e){this.formInline.classB="",this.twoCateLiat=[],this.getCate(e,2)},getfindType:function(e){this.formInline.region=e},getHotlist:function(){var e=this;this.$api.post({path:"/manage/getBestSellers",params:{token:this.token,goodsName:this.formInline.goodsName,oneCateName:this.formInline.classA,twoCateName:this.formInline.classB,shelfStatus:this.formInline.region,pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total}})},handleClose:function(e,t){console.log(e,t),this.outVisible=!1},getselCate:function(e,t){var o=this;this.$api.post({path:"/manage/getCate",params:{token:this.token,cateId:e},success:function(e){console.log(e),1==t?o.selectform.oneCateLiat=e.data:o.selectform.twoCateLiat=e.data}})},seleconeCate:function(e){this.selectform.classB="",this.selectform.twoCateLiat=[],this.getselCate(e,2)},selsectType:function(e){this.selectform.region=e},selgoodsFind:function(){var e=this;this.$api.post({path:"/manage/getBestSellersGoodsList",params:{token:this.token,goodsName:this.selectform.goodsName,oneCateName:this.selectform.classA,twoCateName:this.selectform.classB,shelfStatus:this.selectform.region,pageNum:this.selectform.pageNum,pageSize:this.selectform.pageSize},success:function(t){console.log(t),e.selectData=t.data.list,e.selectform.pagetotal=t.data.total}})},selSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.selectform.pageSize=e,this.selgoodsFind()},selCurrentChange:function(e){console.log("当前页: ".concat(e)),this.selectform.pageNum=e,this.selgoodsFind()},SelectionChange:function(e){this.multipleSelection=e;var t=[];e.forEach((function(e){t.push(e.goodsId)})),this.goodsIds=t,console.log(t)},addHomeGoods:function(){var e=this;this.$api.post({path:"/manage/addHomeGoods",params:{token:this.token,goodsIds:this.goodsIds.join(",")},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.multipleSelection={},e.selectVisible=!1,e.getHotlist(),e.selgoodsFind())}})},handleSelectionChange:function(e){var t=[];e.forEach((function(e){t.push(e.goodsHotId)})),this.goodsHotIds=t,console.log(t)},delHotGoods:function(){var e=this;""==this.goodsHotIds.join(",")?this.$message({message:"请选择要操作的商品信息",type:"warning"}):this.$api.post({path:"/manage/delHotGoods",params:{token:this.token,goodsHotIds:this.goodsHotIds.join(",")},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.getHotlist())}})}},mounted:function(){this.getHotlist(),this.getCate(0,1),this.selgoodsFind(),this.getselCate(0,1)}}),n=s,i=(o("83de"),o("2877")),c=Object(i["a"])(n,l,a,!1,null,null,null);t["default"]=c.exports},"9b56":function(e,t,o){}}]);