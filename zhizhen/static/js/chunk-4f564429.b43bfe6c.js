(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f564429"],{"0b8e":function(e,t,s){"use strict";var o=s("5311"),i=s.n(o);i.a},"16f4":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"goodslist"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[s("el-menu-item",{attrs:{index:"1"}},[e._v("商品列表")])],1),s("div",{staticClass:"goodsmain element"},[s("div",{staticClass:"goodsfind"},[s("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formInline.goodsName,callback:function(t){e.$set(e.formInline,"goodsName",t)},expression:"formInline.goodsName"}})],1),s("el-form-item",[s("el-select",{attrs:{clearable:"",placeholder:"请选择一级分类"},on:{change:e.seloneCate},model:{value:e.formInline.classA,callback:function(t){e.$set(e.formInline,"classA",t)},expression:"formInline.classA"}},e._l(e.oneCateLiat,(function(e){return s("el-option",{key:e.cateId,attrs:{clearable:"",label:e.cateName,value:e.cateId}})})),1)],1),s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择二级分类"},model:{value:e.formInline.classB,callback:function(t){e.$set(e.formInline,"classB",t)},expression:"formInline.classB"}},e._l(e.twoCateLiat,(function(e){return s("el-option",{key:e.cateId,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),s("el-form-item",[s("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[s("el-option",{attrs:{label:"上架",value:"1"}}),s("el-option",{attrs:{label:"下架",value:"2"}})],1)],1),s("el-form-item",[s("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.selectgoodsFind}},[e._v("查询\n          ")])],1)],1)],1),s("div",{staticClass:"goodsdata"},[s("el-row",{staticStyle:{"margin-bottom":"12px"}},[s("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addVisible=!0}}},[e._v("添加\n        ")]),s("el-button",{staticClass:"recovery",attrs:{size:"small",icon:"el-icon-top"},on:{click:function(t){e.upVisible=!0}}},[e._v("上架\n        ")]),s("el-button",{staticClass:"disable",attrs:{size:"small",icon:"el-icon-bottom"},on:{click:function(t){e.downVisible=!0}}},[e._v("下架\n        ")]),s("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:function(t){e.outVisible=!0}}},[e._v("删除\n        ")]),s("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"iconfont iconinport"},on:{click:e.getexport}},[e._v("导出\n        ")]),s("el-button",{staticClass:"commonbtn",attrs:{size:"small"},on:{click:e.getsubmitSort}},[e._v("提交排序")])],1),s("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.goodslistChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1)+"\n          ")]}}])}),s("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),s("el-table-column",{attrs:{prop:"goodsclass",label:"商品分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.oneCateName)+"-"+e._s(t.row.twoCateName)+"\n          ")]}}])}),s("el-table-column",{attrs:{label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{attrs:{src:e.row.coverImg,height:"50",width:"50"}})]}}])}),s("el-table-column",{attrs:{prop:"originalProice",label:"原价"}}),s("el-table-column",{attrs:{prop:"memberPrice",label:"会员价"}}),s("el-table-column",{attrs:{prop:"costPrice",label:"成本价"}}),s("el-table-column",{attrs:{prop:"stock",label:"库存"}}),s("el-table-column",{attrs:{prop:"provider",label:"供应商"}}),s("el-table-column",{attrs:{prop:"state",label:"状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",{directives:[{name:"show",rawName:"v-show",value:1==t.row.shelfStatus,expression:"scope.row.shelfStatus == 1"}]},[e._v("上架")]),s("p",{directives:[{name:"show",rawName:"v-show",value:2==t.row.shelfStatus,expression:"scope.row.shelfStatus == 2"}]},[e._v("下架")])]}}])}),s("el-table-column",{attrs:{label:"排序id"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{model:{value:t.row.ordid,callback:function(s){e.$set(t.row,"ordid",s)},expression:"scope.row.ordid"}})]}}])}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.details(t.$index,t.row)}}},[e._v("详情\n            ")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.edit(t.$index,t.row)}}},[e._v("编辑\n            ")])]}}])})],1),s("div",{staticStyle:{display:"flex"}},[s("div",[e._v("商品数量："+e._s(e.pagetotal))]),s("div",{staticClass:"page",staticStyle:{"margin-left":"auto"}},[s("div",{staticClass:"grid-content bg-purple-light"},[s("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])],1)]),s("el-dialog",{staticClass:"addbox",attrs:{title:"添加",visible:e.addVisible,width:"835px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisible=t},close:e.backGoodss}},[s("div",{staticClass:"information adds"},[s("div",{staticStyle:{width:"100%",margin:"0 auto"}},[s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("基本信息")]),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:e.ruleForm,"label-width":"80px","label-position":"left",inline:!0}},[s("el-form-item",{attrs:{label:"商品名称",required:""}},[s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.ruleForm.goodsname,callback:function(t){e.$set(e.ruleForm,"goodsname",t)},expression:"ruleForm.goodsname"}})],1),s("el-form-item",{staticClass:"addselect",attrs:{label:"商品分类",required:""}},[s("el-select",{attrs:{placeholder:"请选择一级分类"},on:{change:e.seloneCate},model:{value:e.ruleForm.classA,callback:function(t){e.$set(e.ruleForm,"classA",t)},expression:"ruleForm.classA"}},e._l(e.oneCateLiat,(function(e){return s("el-option",{key:e.cateId,attrs:{label:e.cateName,value:e.cateId}})})),1),s("el-select",{attrs:{placeholder:"请选择二级分类"},model:{value:e.ruleForm.classB,callback:function(t){e.$set(e.ruleForm,"classB",t)},expression:"ruleForm.classB"}},e._l(e.twoCateLiat,(function(e){return s("el-option",{key:e.cateId,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),s("el-form-item",{attrs:{label:"供应商",required:""}},[s("el-input",{attrs:{placeholder:"请输入供应商"},model:{value:e.ruleForm.supplier,callback:function(t){e.$set(e.ruleForm,"supplier",t)},expression:"ruleForm.supplier"}})],1),s("el-form-item",{attrs:{label:"库存",required:""}},[s("el-input",{attrs:{placeholder:"请输入库存"},model:{value:e.ruleForm.stock,callback:function(t){e.$set(e.ruleForm,"stock",t)},expression:"ruleForm.stock"}})],1),s("el-form-item",{attrs:{label:"原价",required:""}},[s("el-input",{attrs:{placeholder:"请输入原价"},model:{value:e.ruleForm.original,callback:function(t){e.$set(e.ruleForm,"original",t)},expression:"ruleForm.original"}})],1),s("el-form-item",{attrs:{label:"会员价",required:""}},[s("el-input",{attrs:{placeholder:"请输入会员价"},model:{value:e.ruleForm.vipPice,callback:function(t){e.$set(e.ruleForm,"vipPice",t)},expression:"ruleForm.vipPice"}})],1),s("el-form-item",{attrs:{label:"成本价",required:""}},[s("el-input",{attrs:{placeholder:"请输入成本价"},model:{value:e.ruleForm.cost,callback:function(t){e.$set(e.ruleForm,"cost",t)},expression:"ruleForm.cost"}})],1),s("br"),s("el-form-item",{attrs:{label:"规格",required:""}},[s("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white","margin-bottom":"10px"},on:{click:function(t){e.specsVisible=!0,e.getguige(1)}}},[e._v("\n              添加规格\n            ")]),s("el-table",{ref:"multipleTable",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.addData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{label:"id",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.$index+1)+"\n                ")]}}])}),s("el-table-column",{attrs:{prop:"specsName",label:"规格名称",width:"125"}}),s("el-table-column",{attrs:{prop:"attrName",label:"属性名称",width:"170"}})],1)],1),s("br"),s("el-form-item",{attrs:{label:"视频"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.vuploadImgs,"show-file-list":!1,accept:".mp4"}},[s("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54, 116, 255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[e._v("上传\n              ")])],1),s("div",{staticClass:"userimage"},[e.vimgurl?s("div",{staticStyle:{width:"200px",height:"100px"}},[e.vimgurl?s("video",{staticClass:"avatar",attrs:{src:e.vimgurl,width:"200",height:"100",controls:""}}):e._e(),s("div",{staticClass:"remove_logo",staticStyle:{top:"40px",right:"-5px"},on:{click:function(t){return e.vuploadDel()}}},[e._v("×")])]):e._e()])],1),s("br"),s("el-form-item",{attrs:{label:"封面图",required:""}},[s("el-upload",{attrs:{action:"","list-type":"picture-card",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.uploadImgs,"show-file-list":!1}},[s("i",{staticClass:"el-icon-camera-solid"})]),s("div",{staticClass:"userimage"},[e.imgurl?s("img",{staticClass:"avatar",attrs:{src:e.imgurl}}):e._e()]),s("p",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("\n              推荐尺寸为180*180\n            ")])],1),s("br"),s("el-form-item",{attrs:{label:"轮播图",required:""}},[s("div",{staticClass:"img_box"},[e._l(e.AdvImg,(function(t,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.AdvImg.length,expression:"AdvImg.length != 0"}],key:o,staticClass:"img_size"},[0!=e.AdvImg.length?s("img",{attrs:{src:t.src}}):e._e(),s("div",{staticClass:"remove_logo",on:{click:function(t){return e.fileDel(o)}}},[e._v("×")])])})),s("el-upload",{attrs:{action:"","list-type":"picture-card",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.goodsAdvsup,"show-file-list":!1}},[s("i",{staticClass:"el-icon-camera-solid"})])],2),s("p",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("\n              最多上传5张，推荐尺寸为750*750\n            ")])])],1),s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("商品详情")]),s("div",[s("tinymce-editor",{ref:"tinymce",staticStyle:{"z-index":"9999"},attrs:{init:e.init},model:{value:e.ruleForm.goodsDesc,callback:function(t){e.$set(e.ruleForm,"goodsDesc",t)},expression:"ruleForm.goodsDesc"}})],1),s("div",{staticClass:"addbtns",staticStyle:{"background-color":"rgb(54, 116, 255)",width:"70px",height:"35px","text-align":"center",color:"white","line-height":"35px","border-radius":"4px"},on:{click:function(t){return e.getaddGoods()}}},[e._v("\n          确定\n        ")])],1)])]),s("el-dialog",{staticClass:"addbox",attrs:{title:"编辑",visible:e.editVisible,width:"835px","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t},close:e.editClose}},[s("div",{staticClass:"information adds"},[s("div",{staticStyle:{width:"100%",margin:"0 auto"}},[s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("基本信息")]),s("el-form",{ref:"editForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:e.editForm,"label-width":"80px","label-position":"left",inline:!0}},[s("el-form-item",{attrs:{label:"商品名称",required:""}},[s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.editForm.goodsname,callback:function(t){e.$set(e.editForm,"goodsname",t)},expression:"editForm.goodsname"}})],1),s("el-form-item",{staticClass:"addselect",attrs:{label:"商品分类",required:""}},[s("el-select",{on:{change:e.seloneCate},model:{value:e.editForm.classA,callback:function(t){e.$set(e.editForm,"classA",t)},expression:"editForm.classA"}},e._l(e.oneCateLiat,(function(t){return s("el-option",{key:t.cateId,attrs:{label:t.cateName,value:t.cateId}},[e._v("\n                "+e._s(t.cateName)+"\n              ")])})),1),s("el-select",{model:{value:e.editForm.classB,callback:function(t){e.$set(e.editForm,"classB",t)},expression:"editForm.classB"}},e._l(e.twoCateLiat,(function(t){return s("el-option",{key:t.cateId,attrs:{label:t.cateName,value:t.cateId}},[e._v("\n                "+e._s(t.cateName)+"\n              ")])})),1)],1),s("el-form-item",{attrs:{label:"供应商",required:""}},[s("el-input",{attrs:{placeholder:"请输入供应商"},model:{value:e.editForm.supplier,callback:function(t){e.$set(e.editForm,"supplier",t)},expression:"editForm.supplier"}})],1),s("el-form-item",{attrs:{label:"库存",required:""}},[s("el-input",{attrs:{placeholder:"请输入库存"},model:{value:e.editForm.stock,callback:function(t){e.$set(e.editForm,"stock",t)},expression:"editForm.stock"}})],1),s("el-form-item",{attrs:{label:"原价",required:""}},[s("el-input",{attrs:{placeholder:"请输入原价"},model:{value:e.editForm.original,callback:function(t){e.$set(e.editForm,"original",t)},expression:"editForm.original"}})],1),s("el-form-item",{attrs:{label:"会员价",required:""}},[s("el-input",{attrs:{placeholder:"请输入会员价"},model:{value:e.editForm.vipPice,callback:function(t){e.$set(e.editForm,"vipPice",t)},expression:"editForm.vipPice"}})],1),s("el-form-item",{attrs:{label:"成本价",required:""}},[s("el-input",{attrs:{placeholder:"请输入成本价"},model:{value:e.editForm.cost,callback:function(t){e.$set(e.editForm,"cost",t)},expression:"editForm.cost"}})],1),s("br"),s("el-form-item",{attrs:{label:"规格",required:""}},[s("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white","margin-bottom":"10px"},on:{click:function(t){e.specsVisible=!0,e.getguige(2)}}},[e._v("\n              添加规格\n            ")]),s("el-table",{ref:"multipleTable",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.editData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{label:"id",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.$index+1)+"\n                ")]}}])}),s("el-table-column",{attrs:{prop:"specsName",label:"规格名称",width:"125"}}),s("el-table-column",{attrs:{prop:"attrName",label:"属性名称",width:"170"}})],1)],1),s("br"),s("el-form-item",{attrs:{label:"视频"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.evuploadImgs,"show-file-list":!1}},[s("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54, 116, 255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[e._v("上传\n              ")])],1),s("div",{staticClass:"userimage"},[e.editForm.video?s("div",{staticStyle:{width:"200px",height:"100px"}},[s("video",{staticClass:"avatar",attrs:{src:e.editForm.video,width:"200",height:"100",controls:""}}),s("div",{staticClass:"remove_logo",staticStyle:{top:"40px",right:"-5px"},on:{click:function(t){return e.evuploadDel()}}},[e._v("×")])]):e._e()])],1),s("br"),s("el-form-item",{attrs:{label:"封面图",required:""}},[s("el-upload",{attrs:{action:"","list-type":"picture-card",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.euploadImgs,"show-file-list":!1}},[s("i",{staticClass:"el-icon-camera-solid"})]),s("div",{staticClass:"userimage"},[e.editForm.coverImg?s("img",{staticClass:"avatar",attrs:{src:e.editForm.coverImg}}):e._e()]),s("p",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("\n              推荐尺寸为180*180\n            ")])],1),s("br"),s("el-form-item",{attrs:{label:"轮播图",required:""}},[s("div",{staticClass:"img_box"},[e._l(e.editForm.goodsAdvs,(function(t,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.editForm.goodsAdvs.length,expression:"editForm.goodsAdvs.length != 0"}],key:o,staticClass:"img_size"},[0!=e.editForm.goodsAdvs.length?s("img",{attrs:{src:t.goodsAdvImg}}):e._e(),s("div",{staticClass:"remove_logo",on:{click:function(t){return e.efileDel(o)}}},[e._v("×")])])})),s("el-upload",{attrs:{action:"","list-type":"picture-card",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.egoodsAdvsup,"show-file-list":!1}},[s("i",{staticClass:"el-icon-camera-solid"})])],2),s("p",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("\n              最多上传5张，推荐尺寸为750*750\n            ")])])],1),s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("商品详情")]),s("div",[s("tinymce-editor",{ref:"tinymce",staticStyle:{"z-index":"9999"},attrs:{init:e.init},model:{value:e.editForm.goodsDesc,callback:function(t){e.$set(e.editForm,"goodsDesc",t)},expression:"editForm.goodsDesc"}})],1),s("div",{staticClass:"addbtns",staticStyle:{"background-color":"rgb(54, 116, 255)",width:"70px",height:"35px","text-align":"center",color:"white","line-height":"35px","border-radius":"4px"},on:{click:function(t){return e.geteditGoods()}}},[e._v("\n          确定")])],1)])]),s("el-dialog",{staticClass:"addbox",attrs:{title:"详情",visible:e.detailsVisible,width:"860px"},on:{"update:visible":function(t){e.detailsVisible=t}}},[s("div",{staticClass:"information adds"},[s("div",{staticStyle:{width:"100%",margin:"0 auto"}},[s("div",{staticClass:"goodsnewsbox"},[s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("基本信息")]),s("div",{staticClass:"goodsnews"},[s("div",[e._v("商品名称："+e._s(e.goodsDetail.goodsName))]),s("div",[e._v("\n              商品分类："+e._s(e.goodsDetail.oneCateName)+"-"+e._s(e.goodsDetail.twoCateName)+"\n            ")]),s("div",[e._v("供应商："+e._s(e.goodsDetail.provider))]),s("div",[e._v("库存："+e._s(e.goodsDetail.stock))]),s("div",[e._v("原价："+e._s(e.goodsDetail.originalProice)+"元")]),s("div",[e._v("会员价："+e._s(e.goodsDetail.memberPrice)+"元")]),s("div",[e._v("成本价："+e._s(e.goodsDetail.costPrice)+"元")])]),s("p",[e._v("规格信息:")]),s("el-table",{ref:"multipleTable",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.detailsData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{label:"id",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.$index+1)+"\n              ")]}}])}),s("el-table-column",{attrs:{prop:"specsName",label:"规格名称",align:"center"}}),s("el-table-column",{attrs:{prop:"attrName",label:"属性名称",align:"center"}})],1),s("div",{staticClass:"goodsimg"},[s("div",[s("p",[e._v("封面图：")]),s("div",[s("img",{attrs:{src:e.goodsDetail.coverImg,alt:""}})])]),s("div",[s("p",[e._v("轮播图：")]),s("div",{staticClass:"lunbo"},e._l(e.goodsAdvs,(function(e){return s("img",{key:e.goodsAdvId,attrs:{src:e.goodsAdvImg,alt:""}})})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.goodsDetail.video,expression:"goodsDetail.video"}],staticClass:"goodsv"},[s("p",[e._v("视频：")]),s("video",{attrs:{src:e.goodsDetail.video,width:"200",height:"100",controls:""}})])],1),s("p",{staticStyle:{color:"rgb(56, 118, 255)","font-weight":"bold"}},[e._v("商品详情")]),s("div",[s("tinymce-editor",{attrs:{id:"tinymce",init:e.init},model:{value:e.goodsDetail.goodsDesc,callback:function(t){e.$set(e.goodsDetail,"goodsDesc",t)},expression:"goodsDetail.goodsDesc"}})],1)])])]),s("el-dialog",{staticClass:"addbox specs",attrs:{title:"添加规格",visible:e.specsVisible,width:"660px","close-on-click-modal":!1},on:{"update:visible":function(t){e.specsVisible=t}}},[s("div",{staticClass:"information inform"},[s("el-form",{ref:"specsForm",staticClass:"demo-ruleForm",attrs:{model:e.specsForm,"label-width":"100px"}},[e._l(e.specsForm.goodsSpecs,(function(t,o){return s("div",{key:t.key,staticClass:"normbox"},[s("el-form-item",{attrs:{label:"规格名称",prop:"goodsSpecs."+o+".specsName"}},[s("el-input",{attrs:{placeholder:"请输入规格名称"},model:{value:t.specsName,callback:function(s){e.$set(t,"specsName",s)},expression:"item.specsName"}})],1),s("el-form-item",{attrs:{label:"属性名称",prop:"goodsSpecs."+o+".attrName"}},[s("el-input",{attrs:{placeholder:"请输入属性名称，多个以英文逗号隔开"},model:{value:t.attrName,callback:function(s){e.$set(t,"attrName",s)},expression:"item.attrName"}})],1),0!=o?s("div",{staticClass:"goodsAdd",on:{click:function(s){return e.removeEnvironmentForm(t)}}},[s("i",{staticClass:"el-icon-close"})]):e._e()],1)})),s("el-form-item",{attrs:{label:" "}},[s("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.addEnvironment(e.specsForm)}}},[e._v("确定\n          ")])],1)],2),s("div",{staticClass:"goodsLAdd",staticStyle:{width:"15px"},on:{click:e.addEnvironmentForm}},[s("i",{staticClass:"el-icon-plus"})])],1)]),s("el-dialog",{attrs:{title:"删除",visible:e.outVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.outVisible=t}}},[s("span",[e._v("确认删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outVisible=!1,e.operationGoods(3)}}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"上架",visible:e.upVisible,width:"20%","before-close":e.handleClose2},on:{"update:visible":function(t){e.upVisible=t}}},[s("span",[e._v("确认商品上架？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.upVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.upVisible=!1,e.operationGoods(1)}}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"下架",visible:e.downVisible,width:"20%","before-close":e.handleClose3},on:{"update:visible":function(t){e.downVisible=t}}},[s("span",[e._v("确认商品下架？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.downVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.downVisible=!1,e.operationGoods(2)}}},[e._v("确 定")])],1)])],1)},i=[],l=(s("6b54"),s("ac6a"),s("28a5"),s("bc3a"),{data:function(){return{activeIndex2:"1",pageNum:1,pagetotal:0,pageSize:10,token:localStorage.getItem("token"),outVisible:!1,upVisible:!1,downVisible:!1,oneCateid:0,oneCateLiat:[],twoCateid:"",twoCateLiat:[],addCateid:0,addCateLiat:[],addtwoCateLiat:[],editCateid:0,editCateLiat:[],edittowCateLiat:[],formInline:{goodsName:"",classA:"",classB:"",region:""},tableData:[],addVisible:!1,ruleForm:{goodsname:"",goodsclass:"",classA:"",classB:"",supplier:"",stock:"",original:"",vipPice:"",cost:"",goodsDesc:""},rules:{goodsname:[{required:!0,message:"请输入商品名称",trigger:"blur"}],supplier:[{required:!0,message:"请输入供应商",trigger:"blur"}],stock:[{required:!0,message:"请输入库存",trigger:"blur"}],original:[{required:!0,message:"请输入原价",trigger:"blur"}],vipPice:[{required:!0,message:"请输入会员价",trigger:"blur"}],cost:[{required:!0,message:"请输入成本价",trigger:"blur"}],guige:[{required:!0,message:"请添加规格",trigger:"change"}],pic:[{required:!0,message:"请上传封面图"}],img:[{required:!0,message:"请上传轮播图"}],class:[{required:!1}]},addData:[],dialogVisible:!1,dialogImageUrl:"",editVisible:!1,editForm:{goodsname:"",goodsId:"",goodsclass:"",classA:"",classB:"",supplier:"",stock:"",original:"",vipPice:"",cost:"",goodsAdvs:[],video:"",coverImg:"",goodsDesc:"",imageUrl:"",imgurl:"",guige:"",pic:"",img:"",AdvImg:[],fileLists:[],vUrl:"",vimgurl:"",oneCateName:"",twoCateName:"",goodsSpecs:[]},editrules:{goodsname:[{required:!0,message:"请输入商品名称",trigger:"blur"}],supplier:[{required:!0,message:"请输入供应商",trigger:"blur"}],stock:[{required:!0,message:"请输入库存",trigger:"blur"}],original:[{required:!0,message:"请输入原价",trigger:"blur"}],vipPice:[{required:!0,message:"请输入会员价",trigger:"blur"}],cost:[{required:!0,message:"请输入成本价",trigger:"blur"}],guige:[{required:!0,message:"请添加规格",trigger:"change"}],pic:[{required:!0,message:"请上传封面图"}],img:[{required:!0,message:"请上传轮播图"}]},editData:[],detailsVisible:!1,specsVisible:!1,specsForm:{goodsSpecs:[{specsName:"",attrName:""}]},goodsIds:[],goodsList:[],goodsDetail:{},detailsData:[],goodsAdvs:[],goodsSpecs:[],list:[],imageUrl:"",imgurl:"",AdvImg:[],fileLists:[],vUrl:"",vimgurl:"",guige:"",html:""}},created:function(){this.selectgoodsFind(),this.getCate(0,1)},methods:{handleSelect:function(e,t){console.log(e,t)},handleSelectionChange:function(e){this.multipleSelection=e},handleClose:function(e,t){console.log(e,t),this.outVisible=!1},handleClose2:function(e,t){console.log(e,t),this.upVisible=!1},handleClose3:function(e,t){console.log(e,t),this.downVisible=!1},backGoodss:function(){this.ruleForm.goodsname="",this.ruleForm.classB="",this.ruleForm.classA="",this.ruleForm.supplier="",this.imageUrl="",this.imgurl="",this.vUrl="",this.vimgurl="",this.ruleForm.stock="",this.ruleForm.original="",this.ruleForm.vipPice="",this.ruleForm.cost="",this.ruleForm.goodsDesc="",this.goodsSpecs=[],this.AdvImg=[],this.addVisible=!1,this.specsForm.goodsSpecs=[{specsName:"",attrName:""}],this.addData=[]},addEnvironmentForm:function(){this.specsForm.goodsSpecs.push({specsName:"",attrName:"",key:Date.now()})},getguige:function(e){this.guige=e},addEnvironment:function(e){var t=this;if(1==this.guige){var s=JSON.parse(JSON.stringify(this.specsForm)).goodsSpecs,o=[];this.list=this.specsForm.goodsSpecs;for(var i=0;i<this.list.length;i++){this.list[i].attrName=this.list[i].attrName.split(","),o.push({goodsAttrList:[],specsName:""});for(var l=0;l<this.list[i].attrName.length;l++)o[i].goodsAttrList.push({attrName:this.list[i].attrName[l]}),o[i].specsName=this.list[i].specsName}this.goodsSpecs=o,console.log(this.list,o,"this.list"),this.addData=s,console.log(this.addData,o)}else{var a=JSON.parse(JSON.stringify(this.specsForm)).goodsSpecs,r=[];this.list=this.specsForm.goodsSpecs;for(var n=0;n<this.list.length;n++){this.list[n].attrName=this.list[n].attrName.split(","),r.push({goodsAttrList:[],specsName:""});for(var c=0;c<this.list[n].attrName.length;c++)r[n].goodsAttrList.push({attrName:this.list[n].attrName[c]}),r[n].specsName=this.list[n].specsName}a.forEach((function(e){t.editData.push({specsName:e.specsName,attrName:e.attrName})})),console.log(this.editData),this.goodsSpecs=r,console.log(this.list,r,"this.list")}this.specsVisible=!1,this.$refs.specsForm.resetFields()},removeEnvironmentForm:function(e){var t=this.specsForm.goodsSpecs.indexOf(e);-1!==t&&this.specsForm.goodsSpecs.splice(t,1)},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},submitbtn:function(){this.editVisible=!1},addsubmitbtn:function(){this.addVisible=!1},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.selectgoodsFind()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.selectgoodsFind()},getexport:function(){var e={token:this.token,type:2};this.$download("http://manager.zhizhennengyuan.com:8000/manage/export",e,"商品列表").then((function(e){console.log(e,"res1")}))},goodslistChange:function(e){this.multipleSelection=e,console.log(e);var t=[],s=[];e.forEach((function(e){t.push(e.goodsId),s.push({goodsId:e.goodsId,ordid:e.ordid})})),this.goodsIds=t,this.goodsList=s,console.log(this.goodsList)},uploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.imageUrl=e.result[0].relative_url,t.imgurl=e.result[0].url,console.log(e,"res2")}))},vuploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.vUrl=e.result[0].relative_url,t.vimgurl=e.result[0].url,console.log(e,"res2")}))},vuploadDel:function(){this.vUrl="",this.video=""},fileDel:function(e){this.AdvImg.splice(e,1),this.fileLists.splice(e,1)},goodsAdvsup:function(e){var t=this;this.AdvImg.length<5?this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){console.log(e),e.result.forEach((function(e){t.AdvImg.push({src:e.url}),t.fileLists.push({goodsAdvImg:e.relative_url})})),console.log(t.AdvImg),console.log(t.fileLists)})):this.$message.error("不能超过五张哦！")},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},change:function(e,t){this.html=t},changes:function(e,t){this.html=t},getaddGoods:function(){var e=this;""==this.ruleForm.goodsname||""==this.ruleForm.classB||""==this.ruleForm.supplier||""==this.imageUrl||""==this.ruleForm.stock||""==this.ruleForm.original||""==this.ruleForm.vipPice||""==this.ruleForm.cost||0==this.fileLists.length||this.goodsSpecs==[]?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/addGoods",params:{token:this.token,goodsName:this.ruleForm.goodsname,cateId:this.ruleForm.classB,provider:this.ruleForm.supplier,shelfStatus:1,coverImg:this.imageUrl,video:this.vUrl,stock:this.ruleForm.stock,originalProice:this.ruleForm.original,memberPrice:this.ruleForm.vipPice,costPrice:this.ruleForm.cost,goodsDesc:this.ruleForm.goodsDesc,goodsSpecs:this.goodsSpecs,goodsAdvs:this.fileLists,goodsDescMd:this.ruleForm.goodsDesc},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.ruleForm.goodsname="",e.ruleForm.classB="",e.ruleForm.classA="",e.ruleForm.supplier="",e.imageUrl="",e.imgurl="",e.vUrl="",e.vimgurl="",e.ruleForm.stock="",e.ruleForm.original="",e.ruleForm.vipPice="",e.ruleForm.cost="",e.ruleForm.goodsDesc="",e.goodsSpecs=[],e.AdvImg=[],e.addVisible=!1,e.addData=[],e.fileLists=[],e.selectgoodsFind(),e.specsForm.goodsSpecs=[{specsName:"",attrName:""}])}})},addClose:function(){this.ruleForm.goodsname="",this.ruleForm.classB="",this.ruleForm.classA="",this.ruleForm.supplier="",this.imageUrl="",this.imgurl="",this.vUrl="",this.vimgurl="",this.ruleForm.stock="",this.ruleForm.original="",this.ruleForm.vipPice="",this.ruleForm.cost="",this.ruleForm.goodsDesc=""},operationGoods:function(e){var t=this;this.$api.post({path:"/manage/operationGoods",params:{token:this.token,type:e,goodsIds:this.goodsIds.join(",")},success:function(e){1==e.code?(t.$message({message:e.msg,type:"success"}),0==t.tableData.length&&t.pageNum,t.selectgoodsFind()):t.$message({message:"请选择要操作的商品信息",type:"warning"}),console.log(e)}})},getsubmitSort:function(){var e=this;0==this.goodsList.length?(this.$message({message:"请选择要修改的信息",type:"warning"}),this.selectgoodsFind()):this.$api.post({path:"/manage/submitSort",params:{token:this.token,goodsList:this.goodsList},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.selectgoodsFind())}})},details:function(e,t){var s=this;console.log(e,t),this.detailsVisible=!0,this.$api.post({path:"/manage/getGoodsDetail",params:{token:this.token,goodsId:t.goodsId},success:function(e){console.log(e),s.goodsDetail=e.data,s.detailsData=e.data.goodsSpecs,s.goodsAdvs=e.data.goodsAdvs}})},edit:function(e,t){var s=this;console.log(e,t),this.editVisible=!0,this.$api.post({path:"/manage/getGoodsDetail",params:{token:this.token,goodsId:t.goodsId},success:function(e){console.log(e),s.editForm.goodsname=e.data.goodsName,s.editForm.goodsId=e.data.goodsId,s.editForm.classB=e.data.cateId,s.editForm.classA=e.data.oneId,s.editForm.supplier=e.data.provider,s.editForm.stock=e.data.stock,s.editForm.original=e.data.originalProice,s.editForm.vipPice=e.data.memberPrice,s.editForm.cost=e.data.costPrice,s.editForm.goodsDesc=e.data.goodsDesc,s.editForm.goodsSpecs=e.data.goodsSpecs,s.editForm.goodsAdvs=e.data.goodsAdvs,s.editForm.video=e.data.video,s.editForm.coverImg=e.data.coverImg,s.editForm.goodsDesc=e.data.goodsDesc,s.editForm.oneCateName=e.data.oneCateName,s.editForm.twoCateName=e.data.twoCateName,s.editForm.vUrl=e.data.videoSrc,e.data.goodsAdvs.forEach((function(e){s.editForm.fileLists.push({goodsAdvImg:e.adv})}));var t=[];s.editForm.goodsSpecs.forEach((function(e){t.push({specsName:e.specsName,attrName:e.attrName})})),s.editData=t,s.specsForm.goodsSpecs=e.data.goodsSpecs,s.getCate(e.data.oneId,2)}})},geteditGoods:function(){var e=this;this.$api.post({path:"/manage/addGoods",params:{token:this.token,goodsName:this.editForm.goodsname,goodsId:this.editForm.goodsId,cateId:this.editForm.classB,provider:this.editForm.supplier,shelfStatus:1,coverImg:this.editForm.imageUrl,video:this.editForm.vUrl,stock:this.editForm.stock,originalProice:this.editForm.original,memberPrice:this.editForm.vipPice,costPrice:this.editForm.cost,goodsDesc:this.editForm.goodsDesc,goodsSpecs:this.goodsSpecs,goodsAdvs:this.editForm.fileLists},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.editVisible=!1,e.selectgoodsFind(),e.editForm.goodsId="",e.editClose())}})},editClose:function(){this.editForm.goodsname="",this.editForm.goodsId="",this.editForm.classB="",this.editForm.classA="",this.editForm.supplier="",this.editForm.stock="",this.editForm.original="",this.editForm.vipPice="",this.editForm.cost="",this.editForm.goodsDesc="",this.editForm.goodsSpecs="",this.editForm.goodsAdvs="",this.editForm.video="",this.editForm.coverImg="",this.editForm.goodsDesc="",this.editForm.oneCateName="",this.editForm.twoCateName="",this.editForm.vUrl="",this.editForm.imageUrl="",this.editForm.goodsAdvs=[],this.editForm.fileLists=[],this.editForm.fileLists.length=0,this.editForm.goodsAdvs.length=0,this.specsForm.goodsSpecs=[{specsName:"",attrName:""}]},euploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.editForm.imageUrl=e.result[0].relative_url,t.editForm.coverImg=e.result[0].url,console.log(e,"res2")}))},evuploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.editForm.vUrl=e.result[0].relative_url,t.editForm.video=e.result[0].url,console.log(e,"res2")}))},evuploadDel:function(){this.editForm.vUrl="",this.editForm.video=""},efileDel:function(e){this.editForm.goodsAdvs.splice(e,1),this.editForm.fileLists.splice(e,1),console.log(this.editForm.goodsAdvs,e,"ss")},egoodsAdvsup:function(e){var t=this;this.editForm.goodsAdvs.length<5?this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){console.log(e),e.result.forEach((function(e){t.editForm.goodsAdvs.push({goodsAdvImg:e.url}),t.editForm.fileLists.push({goodsAdvImg:e.relative_url})})),console.log(t.editForm.goodsAdvs),console.log(t.editForm.fileLists)})):this.$message.error("不能超过五张哦！")},getCate:function(e,t){var s=this;this.$api.post({path:"/manage/getCate",params:{token:this.token,cateId:e},success:function(e){console.log(e),1==t?s.oneCateLiat=e.data:s.twoCateLiat=e.data}})},seloneCate:function(e){this.twoCateLiat=[],this.formInline.classB="",this.ruleForm.classB="",this.editForm.classB="",this.getCate(e,2)},getfindType:function(e){this.formInline.region=e},selectgoodsFind:function(){var e=this;this.$api.post({path:"/manage/getGoodsList",params:{token:this.token,goodsName:this.formInline.goodsName,oneCateName:this.formInline.classA.toString(),twoCateName:this.formInline.classB.toString(),shelfStatus:this.formInline.region,pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total}})}},mounted:function(){},computed:{init:function(){var e=this;return{language_url:"tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"tinymce/skins/ui/oxide",width:"100%",height:400,plugins:"link lists image media code table colorpicker textcolor wordcount contextmenu",menubar:!1,toolbar:["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image media | code removeformat "],branding:!1,images_upload_handler:function(t,s,o){console.log(t,"imgres1"),e.$upload(t.blob()).then((function(e){console.log(e,"imgres");var t=e.result[0].url;s(t)}))}}}}}),a=l,r=(s("0b8e"),s("2877")),n=Object(r["a"])(a,o,i,!1,null,null,null);t["default"]=n.exports},"28a5":function(e,t,s){"use strict";var o=s("aae3"),i=s("cb7c"),l=s("ebd6"),a=s("0390"),r=s("9def"),n=s("5f1b"),c=s("520a"),d=s("79e5"),m=Math.min,u=[].push,g="split",p="length",h="lastIndex",v=4294967295,f=!d((function(){RegExp(v,"y")}));s("214f")("split",2,(function(e,t,s,d){var b;return b="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[p]||2!="ab"[g](/(?:ab)*/)[p]||4!="."[g](/(.?)(.?)/)[p]||"."[g](/()()/)[p]>1||""[g](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!o(e))return s.call(i,e,t);var l,a,r,n=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=void 0===t?v:t>>>0,f=new RegExp(e.source,d+"g");while(l=c.call(f,i)){if(a=f[h],a>m&&(n.push(i.slice(m,l.index)),l[p]>1&&l.index<i[p]&&u.apply(n,l.slice(1)),r=l[0][p],m=a,n[p]>=g))break;f[h]===l.index&&f[h]++}return m===i[p]?!r&&f.test("")||n.push(""):n.push(i.slice(m)),n[p]>g?n.slice(0,g):n}:"0"[g](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)}:s,[function(s,o){var i=e(this),l=void 0==s?void 0:s[t];return void 0!==l?l.call(s,i,o):b.call(String(i),s,o)},function(e,t){var o=d(b,e,this,t,b!==s);if(o.done)return o.value;var c=i(e),u=String(this),g=l(c,RegExp),p=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),F=new g(f?c:"^(?:"+c.source+")",h),k=void 0===t?v:t>>>0;if(0===k)return[];if(0===u.length)return null===n(F,u)?[u]:[];var C=0,w=0,_=[];while(w<u.length){F.lastIndex=f?w:0;var x,S=n(F,f?u:u.slice(w));if(null===S||(x=m(r(F.lastIndex+(f?0:w)),u.length))===C)w=a(u,w,p);else{if(_.push(u.slice(C,w)),_.length===k)return _;for(var y=1;y<=S.length-1;y++)if(_.push(S[y]),_.length===k)return _;w=C=x}}return _.push(u.slice(C)),_}]}))},5311:function(e,t,s){},aae3:function(e,t,s){var o=s("d3f4"),i=s("2d95"),l=s("2b4c")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==i(e))}}}]);