(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc0f0f04"],{"11b7":function(e,t,o){"use strict";var a=o("f5a3"),s=o.n(a);s.a},4270:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"userlist"},[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[e._v("用户列表")])],1),o("div",{staticClass:"usermain"},[o("div",{staticClass:"userfind"},[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.formInline.nick,callback:function(t){e.$set(e.formInline,"nick",t)},expression:"formInline.nick"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择用户类型"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[o("el-option",{attrs:{label:"粉丝",value:"1"}}),o("el-option",{attrs:{label:"会员",value:"2"}})],1)],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[o("el-option",{attrs:{label:"正常",value:"0"}}),o("el-option",{attrs:{label:"禁用",value:"1"}})],1)],1),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.getfind}},[e._v("\n            查询\n          ")])],1)],1)],1),o("div",{staticClass:"userdata"},[o("el-row",{staticStyle:{"margin-bottom":"12px"}},[o("el-button",{staticClass:"recovery",attrs:{size:"small",icon:"el-icon-refresh-right"},on:{click:function(t){e.huifuVisible=!0}}},[e._v("恢复\n        ")]),o("el-button",{staticClass:"disable",attrs:{size:"small",icon:"el-icon-search"},on:{click:function(t){e.jinyongVisible=!0}}},[e._v("禁用")]),o("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:function(t){e.outVisible=!0}}},[e._v("删除")]),o("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"iconfont iconinport"},on:{click:e.getexport}},[e._v("导出")]),o("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.uploadImgs,accept:".xls,.xlsx","show-file-list":!1}},[o("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"iconfont iconexport"}},[e._v("导入")])],1)],1),o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"uid",label:"id",width:"45"}}),o("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.avatar,height:"50",width:"50"}})]}}])}),o("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),o("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"0"==t.row.sex,expression:"scope.row.sex == '0'"}]}),o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.sex,expression:"scope.row.sex == '1'"}]},[e._v("男")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.sex,expression:"scope.row.sex == '2'"}]},[e._v("女")])]}}])}),o("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),o("el-table-column",{attrs:{prop:"areaName",label:"地区"}}),o("el-table-column",{attrs:{label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.utype,expression:"scope.row.utype == '1'"}]},[e._v("粉丝")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.utype,expression:"scope.row.utype == '2'"}]},[e._v("会员")])]}}])}),o("el-table-column",{attrs:{prop:"vip",label:"发展会员数"}}),o("el-table-column",{attrs:{prop:"wattBuyStation",label:"自购瓦数"}}),o("el-table-column",{attrs:{prop:"wattBuyGoodsSelf",label:"返利瓦数"}}),o("el-table-column",{attrs:{prop:"wattBuyGoodsLower",label:"奖励瓦数"}}),o("el-table-column",{attrs:{prop:"createTime",label:"注册时间"}}),o("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"0"==t.row.isForbid,expression:"scope.row.isForbid == '0'"}]},[e._v("正常")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.isForbid,expression:"scope.row.isForbid == '1'"}]},[e._v("禁用")])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.myteam(t.$index,t.row)}}},[e._v("我的团队\n            ")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.profit(t.$index,t.row)}}},[e._v("收益统计\n            ")])]}}])})],1),o("div",{staticClass:"orderfoot",staticStyle:{display:"flex"}},[o("div",[o("span",[e._v("粉丝数量："+e._s(e.fansCount))]),o("span",[e._v("会员数量："+e._s(e.vipCount))])]),o("div",{staticClass:"page",staticStyle:{"margin-left":"auto"}},[o("div",{staticClass:"grid-content bg-purple-light"},[o("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])],1)]),o("el-dialog",{staticClass:"rolesbox",attrs:{title:"我的团队",visible:e.teamVisible,width:"40%"},on:{"update:visible":function(t){e.teamVisible=t}}},[o("div",{staticClass:"information myteam"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.teamData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{label:"id",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.$index+1)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),o("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"0"==t.row.sex,expression:"scope.row.sex == '0'"}]}),o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.sex,expression:"scope.row.sex == '1'"}]},[e._v("男")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.sex,expression:"scope.row.sex == '2'"}]},[e._v("女")])]}}])}),o("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),o("el-table-column",{attrs:{prop:"areaName",label:"地区"}}),o("el-table-column",{attrs:{prop:"usertype",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.utype,expression:"scope.row.utype == '1'"}]},[e._v("粉丝")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.utype,expression:"scope.row.utype == '2'"}]},[e._v("会员")])]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.myteams(t.$index,t.row)}}},[e._v("我的团队\n              ")])]}}])})],1)],1)])]),o("el-dialog",{staticClass:"rolesbox",attrs:{title:"我的团队",visible:e.teamsVisible,width:"40%"},on:{"update:visible":function(t){e.teamsVisible=t}}},[o("div",{staticClass:"information myteam"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.teamsData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{prop:"id",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.$index+1)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),o("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"0"==t.row.sex,expression:"scope.row.sex == '0'"}]}),o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.sex,expression:"scope.row.sex == '1'"}]},[e._v("男")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.sex,expression:"scope.row.sex == '2'"}]},[e._v("女")])]}}])}),o("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),o("el-table-column",{attrs:{prop:"areaName",label:"地区"}}),o("el-table-column",{attrs:{prop:"usertype",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.utype,expression:"scope.row.utype == '1'"}]},[e._v("粉丝")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"2"==t.row.utype,expression:"scope.row.utype == '2'"}]},[e._v("会员")])]}}])})],1)],1)])]),o("el-dialog",{staticClass:"rolesbox",attrs:{title:"收益统计",visible:e.profitVisible,width:"40%"},on:{"update:visible":function(t){e.profitVisible=t}}},[o("div",{staticClass:"information"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:e.profitData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{label:"id",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.$index+1)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"stationName",label:"电站名称"}}),o("el-table-column",{attrs:{prop:"watt",label:"瓦数总计"}}),o("el-table-column",{attrs:{prop:"currentAmount",label:"收益总计"}})],1)],1)])]),o("el-dialog",{attrs:{title:"删除",visible:e.outVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.outVisible=t}}},[o("span",[e._v("确认删除？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outVisible=!1,e.getdelete()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"恢复",visible:e.huifuVisible,width:"30%","before-close":e.handleClose2},on:{"update:visible":function(t){e.huifuVisible=t}}},[o("span",[e._v("确认恢复？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.huifuVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.huifuVisible=!1,e.getrecovery()}}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"禁用",visible:e.jinyongVisible,width:"20%","before-close":e.handleClose3},on:{"update:visible":function(t){e.jinyongVisible=t}}},[o("span",[e._v("确认禁用？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.jinyongVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.jinyongVisible=!1,e.getDisable()}}},[e._v("确 定")])],1)])],1)},s=[],i=(o("ac6a"),{data:function(){return{token:localStorage.getItem("token"),nemberName:localStorage.getItem("nemberName"),roleName:localStorage.getItem("roleName"),account:localStorage.getItem("account"),isForbid:localStorage.getItem("isForbid"),phone:localStorage.getItem("phone"),activeIndex2:"1",pageNum:1,pagetotal:0,pageSize:10,excel:"",outVisible:!1,huifuVisible:!1,jinyongVisible:!1,formInline:{nick:"",phone:"",type:"",region:""},tableData:[],teamVisible:!1,teamData:[],teamsVisible:!1,teamsData:[],profitVisible:!1,profitData:[],uids:[],fansCount:"",vipCount:"",html:""}},methods:{handleSelect:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t),this.outVisible=!1},handleClose2:function(e,t){console.log(e,t),this.huifuVisible=!1},handleClose3:function(e,t){console.log(e,t),this.jinyongVisible=!1},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},submitbtn:function(){this.editVisible=!1},addsubmitbtn:function(){this.addVisible=!1},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getUserList()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.getUserList()},uploadImgs:function(e){var t=this;this.$ImportUserExcel("http://manager.zhizhennengyuan.com:8000/mfxapi/ImportUserExcel",e.file).then((function(e){1==e.status&&(t.$message({message:"导入成功",type:"success"}),t.getUserList()),console.log(e,"res2")}))},getUserList:function(){var e=this;this.$api.post({path:"/manage/getUserList",params:{token:this.token,nickName:"",phone:"",utype:"",isForbid:"",pageSize:this.pageSize,pageNum:this.pageNum},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total,e.fansCount=t.data.fansCount,e.vipCount=t.data.vipCount}})},getchange:function(e){console.log(e),this.formInline.region=e,console.log(this.formInline.region)},gettype:function(e){console.log(e),this.formInline.type=e},getfind:function(){var e=this;this.$api.post({path:"/manage/getUserList",params:{token:this.token,nickName:this.formInline.nick,phone:this.formInline.phone,utype:this.formInline.type,isForbid:this.formInline.region},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total}})},handleSelectionChange:function(e){this.multipleSelection=e;var t=[];e.forEach((function(e){t.push(e.uid)})),this.uids=t,console.log(t,"用户id")},getdelete:function(){var e=this;this.$api.post({path:"/manage/operationUser",params:{token:this.token,uids:this.uids.join(","),type:3},success:function(t){console.log(t),1==t.code?(e.$message({message:t.msg,type:"success"}),e.getUserList()):e.$message({message:"请选择要删除的用户信息",type:"warning"})}})},getDisable:function(){var e=this;this.$api.post({path:"/manage/operationUser",params:{token:this.token,uids:this.uids.join(","),type:2},success:function(t){console.log(t),1==t.code?(e.$message({message:t.msg,type:"success"}),e.getUserList()):e.$message({message:"请选择要禁用的用户信息",type:"warning"})}})},getrecovery:function(){var e=this;this.$api.post({path:"/manage/operationUser",params:{token:this.token,uids:this.uids.join(","),type:1},success:function(t){console.log(t),1==t.code?(e.$message({message:t.msg,type:"success"}),e.getUserList()):e.$message({message:"请选择要恢复的用户信息",type:"warning"})}})},myteam:function(e,t){var o=this;console.log(e,t),this.teamVisible=!0,this.$api.post({path:"/manage/getTeam",params:{token:this.token,uid:t.uid},success:function(e){console.log(e),o.teamData=e.data}})},myteams:function(e,t){var o=this;console.log(e,t),this.teamsVisible=!0,console.log(t.uid),this.$api.post({path:"/manage/getTeam",params:{token:this.token,uid:t.uid},success:function(e){console.log(e),o.teamsData=e.data}})},profit:function(e,t){var o=this;console.log(e,t),this.profitVisible=!0,this.$api.post({path:"/manage/getRevenueStatistics",params:{token:this.token,uid:t.uid},success:function(e){console.log(e),o.profitData=e.data}})},getexport:function(){var e={token:this.token,type:1};this.$download("http://manager.zhizhennengyuan.com:8000/manage/export",e,"用户列表").then((function(e){console.log(e,"res1")}))}},mounted:function(){this.getUserList()}}),l=i,n=(o("11b7"),o("2877")),r=Object(n["a"])(l,a,s,!1,null,null,null);t["default"]=r.exports},f5a3:function(e,t,o){}}]);