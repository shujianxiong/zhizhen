(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eda0f87"],{6554:function(e,t,i){},8311:function(e,t,i){"use strict";var l=i("6554"),n=i.n(l);n.a},c61c:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"questions"},[i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:"1"}},[e._v("有问有答")])],1),i("div",{staticClass:"questmain"},[i("div",{staticClass:"questfind"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"请输入问题标题"},model:{value:e.formInline.title,callback:function(t){e.$set(e.formInline,"title",t)},expression:"formInline.title"}})],1),i("el-form-item",[i("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.getfind}},[e._v("查询\n                    ")])],1)],1)],1),i("div",{staticClass:"questdata"},[i("el-row",{staticStyle:{"margin-bottom":"12px"}},[i("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addVisible=!0}}},[e._v("添加\n                ")]),i("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:e.getdel}},[e._v("删除")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.$index+1)+"\n                    ")]}}])}),i("el-table-column",{attrs:{prop:"queTitle",label:"问题标题"}}),i("el-table-column",{attrs:{prop:"ordid",label:"排序序号"}}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.details(t.$index,t.row)}}},[e._v("详情\n                        ")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.edit(t.$index,t.row)}}},[e._v("编辑\n                        ")])]}}])})],1),i("div",{staticClass:"page",staticStyle:{display:"flex"}},[i("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"margin-left":"auto"}},[i("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)]),i("el-dialog",{attrs:{title:"添加",visible:e.addVisible,width:"45%","close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisible=t}}},[i("div",{staticClass:"information"},[i("div",{staticClass:"questadd",staticStyle:{width:"100%",margin:"0 auto"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px","label-position":"left"}},[i("el-form-item",{attrs:{label:"问题标题",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入问题标题"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),i("el-form-item",{attrs:{label:"排序序号",prop:"number"}},[i("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1),i("el-form-item",{attrs:{label:"问题答案",prop:"answer"}},[i("tinymce-editor",{ref:"tinymce",attrs:{init:e.init},model:{value:e.ruleForm.answer,callback:function(t){e.$set(e.ruleForm,"answer",t)},expression:"ruleForm.answer"}})],1),i("el-form-item",{attrs:{label:" "}},[i("el-button",{staticStyle:{"background-color":"rgb(54,116,255)",color:"white","margin-bottom":"10px"},on:{click:e.getAdd}},[e._v("\n                            确定\n                        ")])],1)],1)],1)])]),i("el-dialog",{attrs:{title:"详情",visible:e.detailsVisible,width:"45%"},on:{"update:visible":function(t){e.detailsVisible=t}}},[i("div",{staticClass:"information"},[i("div",{staticClass:"questadd",staticStyle:{width:"100%",margin:"0 auto"}},[i("p",[e._v("问题标题:"+e._s(e.detailsC.queTitle))]),i("p",[e._v("排序序号："+e._s(e.detailsC.ordid))]),i("div",[i("div",[e._v("问题答案")]),i("div",[i("tinymce-editor",{ref:"tinymce",attrs:{init:e.init},model:{value:e.detailsC.content,callback:function(t){e.$set(e.detailsC,"content",t)},expression:"detailsC.content"}})],1)])])])]),i("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"45%","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t}}},[i("div",{staticClass:"information"},[i("div",{staticClass:"questadd",staticStyle:{width:"100%",margin:"0 auto"}},[i("el-form",{ref:"editForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:e.ruleForm,rules:e.editrules,"label-width":"80px","label-position":"left"}},[i("el-form-item",{attrs:{label:"问题标题",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入问题标题"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),i("el-form-item",{attrs:{label:"排序序号",prop:"number"}},[i("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:e.editForm.number,callback:function(t){e.$set(e.editForm,"number",t)},expression:"editForm.number"}})],1),i("el-form-item",{attrs:{label:"问题答案",prop:"answer"}},[i("tinymce-editor",{ref:"tinymce1",attrs:{init:e.init},model:{value:e.editForm.answer,callback:function(t){e.$set(e.editForm,"answer",t)},expression:"editForm.answer"}})],1),i("el-form-item",{attrs:{label:" "}},[i("el-button",{staticStyle:{"background-color":"rgb(54,116,255)",color:"white","margin-bottom":"10px"},on:{click:function(t){return e.getedit()}}},[e._v("\n                            确定\n                        ")])],1)],1)],1)])])],1)},n=[],a=(i("ac6a"),i("bc3a"),{data:function(){return{activeIndex2:"1",token:localStorage.getItem("token"),pageNum:1,pageSize:10,pagetotal:0,formInline:{title:""},ruleForm:{title:"",number:"",answer:""},rules:{title:[{required:!0,message:"请输入问题标题",trigger:"blur"}],answer:[{required:!0,trigger:"change"}]},addVisible:!1,editVisible:!1,editForm:{title:"",number:"",answer:"",id:""},editrules:{title:[{required:!0,message:"请输入问题标题",trigger:"blur"}],answer:[{required:!0,trigger:"change"}]},detailsVisible:!1,detailsC:{},tableData:[],queIds:[],html:""}},methods:{handleSelect:function(e,t){console.log(e,t)},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},getfind:function(){var e=this;this.$api.post({path:"/manage/getQuestionList",params:{token:this.token,queTitle:this.formInline.title,pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total}})},getAdd:function(){var e=this;""==this.ruleForm.title||""==this.ruleForm.answer?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationQuestion",params:{token:this.token,queTitle:this.ruleForm.title,content:this.ruleForm.answer,ordid:this.ruleForm.number,type:1},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.getfind(),e.ruleForm.title="",e.ruleForm.answer="",e.ruleForm.number="",e.addVisible=!1)}})},handleSelectionChange:function(e){this.multipleSelection=e;var t=[];e.forEach((function(e){t.push(e.queId)})),this.queIds=t},getdel:function(){var e=this;0==this.queIds.length?this.$message.error("请选择有问有答"):this.$confirm("是否删除有问有答?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$api.post({path:"/manage/operationQuestion",params:{token:e.token,type:3,queIds:e.queIds.join(",")},success:function(t){1==t.code?(e.$message({message:t.msg,type:"success"}),e.getfind()):e.$message({message:t.msg,type:"warning"}),console.log(t)}})}))},edit:function(e,t){console.log(e,t),this.editVisible=!0,this.editForm.title=t.queTitle,this.editForm.answer=t.content,this.editForm.number=t.ordid,this.editForm.id=t.queId},getedit:function(){var e=this;""==this.editForm.title||""==this.editForm.answer?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationQuestion",params:{token:this.token,queTitle:this.editForm.title,content:this.editForm.answer,ordid:this.editForm.number,queId:this.editForm.id,type:2},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.getfind(),e.editVisible=!1)}})},details:function(e,t){var i=this;console.log(e,t),this.detailsVisible=!0,this.$api.post({path:"/manage/getQuestionDetail",params:{token:this.token,queId:t.queId},success:function(e){console.log(e),i.detailsC=e.data}})},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getfind()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.getfind()}},mounted:function(){this.getfind()},computed:{init:function(){var e=this;return{language_url:"tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"tinymce/skins/ui/oxide",width:"100%",height:400,plugins:"link lists image media code table colorpicker textcolor wordcount contextmenu",menubar:!1,toolbar:["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image media | code removeformat "],branding:!1,images_upload_handler:function(t,i,l){console.log(t,"imgres1"),e.$upload(t.blob()).then((function(e){console.log(e,"imgres");var t=e.result[0].url;i(t)}))}}}}}),s=a,o=(i("8311"),i("2877")),r=Object(o["a"])(s,l,n,!1,null,null,null);t["default"]=r.exports}}]);