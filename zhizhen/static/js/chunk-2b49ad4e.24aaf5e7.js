(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b49ad4e"],{"386b":function(e,t,o){var i=o("5ca1"),a=o("79e5"),s=o("be13"),l=/"/g,r=function(e,t,o,i){var a=String(s(e)),r="<"+t;return""!==o&&(r+=" "+o+'="'+String(i).replace(l,"&quot;")+'"'),r+">"+a+"</"+t+">"};e.exports=function(e,t){var o={};o[e]=t(r),i(i.P+i.F*a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",o)}},"6ab8":function(e,t,o){},"741e":function(e,t,o){"use strict";var i=o("6ab8"),a=o.n(i);a.a},b54a:function(e,t,o){"use strict";o("386b")("link",(function(e){return function(t){return e(this,"a","href",t)}}))},fee7:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"banner"},[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[e._v("banner图")])],1),o("div",{staticClass:"banmain"},[o("div",{staticClass:"banfind"},[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.formInline,size:"small"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入图片名称"},model:{value:e.formInline.imgname,callback:function(t){e.$set(e.formInline,"imgname",t)},expression:"formInline.imgname"}})],1),o("el-form-item",[o("el-select",{attrs:{placeholder:"请选择图片类型"},on:{change:e.getType},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[o("el-option",{attrs:{label:"仅图片",value:"1"}}),o("el-option",{attrs:{label:"链接",value:"2"}}),o("el-option",{attrs:{label:"html内容",value:"3"}}),o("el-option",{attrs:{label:"商品详情",value:"4"}}),o("el-option",{attrs:{label:"请选择图片类型",value:""}})],1)],1),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.getfind}},[e._v("\n            查询\n          ")])],1)],1)],1),o("div",{staticClass:"bandata"},[o("el-row",{staticStyle:{"margin-bottom":"12px"}},[o("el-button",{staticClass:"commonbtn",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addVisible=!0}}},[e._v("添加\n        ")]),o("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:function(t){e.outVisible=!0}}},[e._v("删除")])],1),o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"80"}}),o("el-table-column",{attrs:{label:"id",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1)+"\n          ")]}}])}),o("el-table-column",{attrs:{prop:"advName",label:"图片名称"}}),o("el-table-column",{attrs:{label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.advImg,height:"85",width:"170"}})]}}])}),o("el-table-column",{attrs:{label:"图片类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:1==t.row.advType,expression:"scope.row.advType == 1"}]},[e._v("仅图片")]),o("p",{directives:[{name:"show",rawName:"v-show",value:2==t.row.advType,expression:"scope.row.advType == 2"}]},[e._v("链接")]),o("p",{directives:[{name:"show",rawName:"v-show",value:3==t.row.advType,expression:"scope.row.advType == 3"}]},[e._v("html内容")]),o("p",{directives:[{name:"show",rawName:"v-show",value:4==t.row.advType,expression:"scope.row.advType == 4"}]},[e._v("商品详情")])]}}])}),o("el-table-column",{attrs:{prop:"ordid",label:"排序序号"}}),o("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.edit(t.$index,t.row)}}},[e._v("编辑\n            ")])]}}])})],1),o("div",{staticStyle:{display:"flex"}},[o("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"margin-left":"auto"}},[o("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)]),o("el-dialog",{staticClass:"banneradd",attrs:{title:"添加",visible:e.addVisible,width:"840px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisible=t}}},[o("div",{staticClass:"information"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"80px",inline:!0}},[o("el-form-item",{attrs:{label:"图片名称",required:""}},[o("el-input",{attrs:{placeholder:"请输入图片名称"},model:{value:e.ruleForm.imgname,callback:function(t){e.$set(e.ruleForm,"imgname",t)},expression:"ruleForm.imgname"}})],1),o("br"),o("el-form-item",{attrs:{label:"图片",required:""}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.uploadImgs,"show-file-list":!1}},[o("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54, 116, 255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[e._v("上传\n              ")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("推荐尺寸为702*320")])],1),o("div",{staticClass:"euserimage"},[e.imgurl?o("img",{staticClass:"avatar",attrs:{src:e.imgurl}}):e._e()])],1),o("br"),o("el-form-item",{attrs:{label:"图片类型",required:""}},[o("el-select",{attrs:{placeholder:"请选择图片类型"},on:{change:e.getaddType},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[o("el-option",{attrs:{label:"仅图片",value:"1"}}),o("el-option",{attrs:{label:"html文件",value:"3"}}),o("el-option",{attrs:{label:"链接",value:"2"}}),o("el-option",{attrs:{label:"商品详情",value:"4"}})],1)],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.ruleForm.type,expression:"ruleForm.type == 3"}],attrs:{label:"html文件",required:""}},[o("tinymce-editor",{ref:"tinymce",attrs:{init:e.init},model:{value:e.ruleForm.html,callback:function(t){e.$set(e.ruleForm,"html",t)},expression:"ruleForm.html"}})],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.ruleForm.type,expression:"ruleForm.type == 2"}],attrs:{label:"链接",required:""}},[o("el-input",{attrs:{placeholder:"请输入链接"},model:{value:e.ruleForm.link,callback:function(t){e.$set(e.ruleForm,"link",t)},expression:"ruleForm.link"}})],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.ruleForm.type,expression:"ruleForm.type == 4"}],attrs:{label:"商品详情",required:""}},[o("el-input",{attrs:{placeholder:"请选择商品"},model:{value:e.ruleForm.goodsName,callback:function(t){e.$set(e.ruleForm,"goodsName",t)},expression:"ruleForm.goodsName"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.ruleForm.type,expression:"ruleForm.type == 4"}]},[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.getselect(1)}}},[e._v("\n              选择商品\n            ")])],1),o("br"),o("el-form-item",{attrs:{label:"排序序号"}},[o("el-input",{attrs:{placeholder:"请填写排序序号"},model:{value:e.ruleForm.ordid,callback:function(t){e.$set(e.ruleForm,"ordid",t)},expression:"ruleForm.ordid"}})],1),o("br"),o("el-form-item",{attrs:{label:" "}},[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.getAdd()}}},[e._v("\n              确定\n            ")])],1)],1)],1)])]),o("el-dialog",{staticClass:"banneradd",attrs:{title:"编辑",visible:e.editVisible,width:"840px","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t}}},[o("div",{staticClass:"information"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,"label-width":"80px",inline:!0}},[o("el-form-item",{attrs:{label:"图片名称",required:""}},[o("el-input",{attrs:{placeholder:"请输入图片名称"},model:{value:e.editForm.imgname,callback:function(t){e.$set(e.editForm,"imgname",t)},expression:"editForm.imgname"}})],1),o("br"),o("el-form-item",{attrs:{label:"图片",required:""}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":e.euploadImgs,"show-file-list":!1}},[o("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54, 116, 255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[e._v("上传\n              ")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("推荐尺寸为702*320")])],1),o("div",{staticClass:"euserimage"},[e.editForm.imgurl?o("img",{staticClass:"avatar",attrs:{src:e.editForm.imgurl}}):e._e()])],1),o("br"),o("el-form-item",{attrs:{label:"图片类型",required:""}},[o("el-select",{attrs:{placeholder:"请选择图片类型"},on:{change:e.getaddType},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[o("el-option",{attrs:{label:"仅图片",value:"1"}}),o("el-option",{attrs:{label:"html文件",value:"3"}}),o("el-option",{attrs:{label:"链接",value:"2"}}),o("el-option",{attrs:{label:"商品详情",value:"4"}})],1)],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.editForm.type,expression:"editForm.type == 3"}],attrs:{label:"html文件",required:""}},[o("tinymce-editor",{ref:"tinymce2",attrs:{init:e.init},model:{value:e.editForm.html,callback:function(t){e.$set(e.editForm,"html",t)},expression:"editForm.html"}})],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.editForm.type,expression:"editForm.type == 2"}],attrs:{label:"链接",required:""}},[o("el-input",{attrs:{placeholder:"请输入链接"},model:{value:e.editForm.link,callback:function(t){e.$set(e.editForm,"link",t)},expression:"editForm.link"}})],1),o("br"),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.editForm.type,expression:"editForm.type == 4"}],attrs:{label:"商品详情",required:""}},[o("el-input",{attrs:{placeholder:"请选择商品"},model:{value:e.editForm.goodsName,callback:function(t){e.$set(e.editForm,"goodsName",t)},expression:"editForm.goodsName"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.editForm.type,expression:"editForm.type == 4"}]},[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.getselect(2)}}},[e._v("\n              选择商品\n            ")])],1),o("br"),o("el-form-item",{attrs:{label:"排序序号"}},[o("el-input",{attrs:{placeholder:"请输入序号"},model:{value:e.editForm.ordid,callback:function(t){e.$set(e.editForm,"ordid",t)},expression:"editForm.ordid"}})],1),o("br"),o("el-form-item",{attrs:{label:" "}},[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},on:{click:function(t){return e.getedit()}}},[e._v("\n              确定\n            ")])],1)],1)],1)])]),o("el-dialog",{attrs:{title:"选择商品",visible:e.selectVisible,width:"1050px","close-on-click-modal":!1},on:{"update:visible":function(t){e.selectVisible=t}}},[o("div",{staticClass:"information select"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("el-row",{staticStyle:{"margin-bottom":"12px"}},[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.selectform,size:"small"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.selectform.goodsName,callback:function(t){e.$set(e.selectform,"goodsName",t)},expression:"selectform.goodsName"}})],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择一级分类"},on:{change:e.seleconeCate},model:{value:e.selectform.classA,callback:function(t){e.$set(e.selectform,"classA",t)},expression:"selectform.classA"}},e._l(e.oneCateLiat,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择二级分类"},model:{value:e.selectform.classB,callback:function(t){e.$set(e.selectform,"classB",t)},expression:"selectform.classB"}},e._l(e.twoCateLiat,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cateName,value:e.cateId}})})),1)],1),o("el-form-item",[o("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.selectform.region,callback:function(t){e.$set(e.selectform,"region",t)},expression:"selectform.region"}},[o("el-option",{attrs:{label:"上架",value:"1"}}),o("el-option",{attrs:{label:"下架",value:"2"}})],1)],1),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"rgb(54, 116, 255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:e.selectgoodsFind}},[e._v("查询\n              ")])],1)],1)],1),o("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px","font-size":"14px"},attrs:{border:"",data:e.selectData,"tooltip-effect":"dark","header-cell-style":e.getRowClass},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{label:"id",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.$index+1)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),o("el-table-column",{attrs:{label:"商品分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.oneCateName)+"-"+e._s(t.row.twoCateName)+"\n            ")]}}])}),o("el-table-column",{attrs:{label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.coverImg,height:"50",width:"50"}})]}}])}),o("el-table-column",{attrs:{prop:"originalProice",label:"原价"}}),o("el-table-column",{attrs:{prop:"memberPrice",label:"会员价"}}),o("el-table-column",{attrs:{prop:"costPrice",label:"成本价"}}),o("el-table-column",{attrs:{prop:"provider",label:"供应商"}}),o("el-table-column",{attrs:{label:"状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:1==t.row.shelfStatus,expression:"scope.row.shelfStatus == 1"}]},[e._v("上架")]),o("p",{directives:[{name:"show",rawName:"v-show",value:2==t.row.shelfStatus,expression:"scope.row.shelfStatus == 2"}]},[e._v("下架")])]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.selectgoods(t.$index,t.row)}}},[e._v("选择\n              ")])]}}])})],1),o("div",{staticClass:"page",staticStyle:{position:"relative"}},[o("div",{staticClass:"grid-content bg-purple-light",staticStyle:{position:"absolute",right:"0"}},[o("el-pagination",{attrs:{background:"","current-page":e.selectform.pageNum,"page-size":e.selectform.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.selectform.pagetotal},on:{"size-change":e.selSizeChange,"current-change":e.selCurrentChange}})],1)])],1)])]),o("el-dialog",{attrs:{title:"删除",visible:e.outVisible,width:"30%"},on:{"update:visible":function(t){e.outVisible=t}}},[o("span",[e._v("确认删除？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outVisible=!1,e.getdel()}}},[e._v("确 定")])],1)])],1)},a=[],s=(o("ac6a"),o("b54a"),o("bc3a"),{data:function(){return{outVisible:!1,activeIndex2:"1",currentPage:1,token:localStorage.getItem("token"),pageNum:1,pageSize:10,pagetotal:0,formInline:{imgname:"",type:""},tableData:[],addVisible:!1,ruleForm:{imgname:"",type:"",link:"",goodsName:"",ordid:"",html:""},rules:{imgname:[{required:!0}],type:[{required:!0}],goodsName:[{required:!0}],pic:[{required:!0}],html:[{required:!0}]},editVisible:!1,editForm:{imgname:"",type:"",link:"",goodsName:"",goodsId:"",ordid:"",html:"",imageUrl:"",imgurl:"",advId:""},editrules:{imgname:[{required:!0}],type:[{required:!0}],goodsName:[{required:!0}],pic:[{required:!0}],html:[{required:!0}]},imageUrl:"",imgurl:"",selectVisible:!1,oneCateLiat:[],twoCateLiat:[],selectform:{goodsName:"",classA:"",classB:"",region:"",pageNum:1,pageSize:10,pagetotal:0},selectData:[],goodsId:"",oneCate:[],oneCateid:0,advIds:[],selectType:"",html:"",html2:""}},methods:{handleSelect:function(e,t){console.log(e,t)},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:RGB(242,242,242)":""},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getfind()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.pageNum=e,this.getfind()},getType:function(e){this.formInline.type=e},getaddType:function(e){this.ruleForm.type=e},selSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.selectform.pageSize=e,this.selectgoodsFind()},selCurrentChange:function(e){console.log("当前页: ".concat(e)),this.selectform.pageNum=e,this.selectgoodsFind()},getfind:function(){var e=this;this.$api.post({path:"/manage/getAdvList",params:{token:this.token,advName:this.formInline.imgname,advType:this.formInline.type,pageSize:this.pageSize,pageNum:this.pageNum},success:function(t){console.log(t),e.tableData=t.data.list,e.pagetotal=t.data.total}})},uploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.imageUrl=e.result[0].relative_url,t.imgurl=e.result[0].url,console.log(e,"res2")}))},euploadImgs:function(e){var t=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",e.file).then((function(e){t.editForm.imageUrl=e.result[0].relative_url,t.editForm.imgurl=e.result[0].url,console.log(e,"res2")}))},getselCate:function(e,t){var o=this;this.$api.post({path:"/manage/getCate",params:{token:this.token,cateId:e},success:function(e){console.log(e),1==t?o.oneCateLiat=e.data:o.twoCateLiat=e.data,console.log(e.data)}})},seleconeCate:function(e){this.twoCateLiat=[],this.selectform.classB="",this.getselCate(e,2)},selgoodsFind:function(){var e=this;this.$api.post({path:"/manage/getBestSellersGoodsList",params:{token:this.token,goodsName:this.selectform.goodsName,oneCateName:this.selectform.classA,twoCateName:this.selectform.classB,shelfStatus:this.selectform.region},success:function(t){console.log(t),e.selectData=t.data.list}})},getselect:function(e){this.selectVisible=!0,this.selectType=e},selectgoods:function(e,t){console.log(e,t),1==this.selectType?(this.goodsId=t.goodsId,this.ruleForm.goodsName=t.goodsName,this.selectVisible=t.selectVisible,this.$message({message:"选择成功",type:"success"})):(this.editForm.goodsId=t.goodsId,this.editForm.goodsName=t.goodsName,this.selectVisible=t.selectVisible,this.$message({message:"选择成功",type:"success"}))},getCate:function(){var e=this;this.$api.post({path:"/manage/getCate",params:{token:this.token,cateId:this.oneCateid},success:function(t){console.log(t),e.oneCate=t.data}})},seloneCate:function(e){this.oneCateid=e,this.selectform.classA=e,this.getCate()},seltwoCate:function(e){this.selectform.classB=e},getfindType:function(e){this.selectform.region=e},selectgoodsFind:function(){var e=this;this.$api.post({path:"/manage/getGoodsList",params:{token:this.token,goodsName:this.selectform.goodsName,oneCateName:this.selectform.classA,twoCateName:this.selectform.classB,shelfStatus:this.selectform.region,pageSize:this.selectform.pageSize,pageNum:this.selectform.pageNum},success:function(t){console.log(t),e.selectform.pagetotal=t.data.total,e.selectData=t.data.list}})},getAdd:function(){var e=this;""==this.ruleForm.imgname||""==this.imageUrl||""==this.ruleForm.type?this.$message({message:"请将信息填写完整",type:"warning"}):3==this.ruleForm.type?""==this.ruleForm.html?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:1,advName:this.ruleForm.imgname,advImg:this.imageUrl,advType:this.ruleForm.type,advContent:this.ruleForm.html,ordid:this.ruleForm.ordid},success:function(t){console.log(t),e.getfind(),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.addVisible=!1)}}):4==this.ruleForm.type?""==this.goodsId?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:1,advName:this.ruleForm.imgname,advImg:this.imageUrl,advType:this.ruleForm.type,advContent:this.goodsId,ordid:this.ruleForm.ordid},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.addVisible=!1,e.getfind(),e.imgurl="",e.ruleForm.imgname="",e.ruleForm.type="",e.goodsId="",e.ruleForm.ordid="")}}):2==this.ruleForm.type?""==this.ruleForm.link?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:1,advName:this.ruleForm.imgname,advImg:this.imageUrl,advType:this.ruleForm.type,advContent:this.ruleForm.link,ordid:this.ruleForm.ordid},success:function(t){1==t.code&&(e.$message({message:t.msg,type:"success"}),e.addVisible=!1,console.log(t),e.getfind(),e.imgurl="",e.ruleForm.imgname="",e.ruleForm.type="",e.ruleForm.link="",e.ruleForm.ordid="")}}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:1,advName:this.ruleForm.imgname,advImg:this.imageUrl,advType:this.ruleForm.type,advContent:"",ordid:this.ruleForm.ordid},success:function(t){console.log(t),1==t.code&&(e.$message({message:t.msg,type:"success"}),e.getfind(),e.imgurl="",e.ruleForm.imgname="",e.ruleForm.type="",e.ruleForm.link="",e.ruleForm.ordid="",e.addVisible=!1)}})},edit:function(e,t){console.log(e,t),this.editVisible=!0,this.editForm.advId=t.advId,this.editForm.imgname=t.advName,this.editForm.type=t.advType,this.editForm.imgurl=t.advImg,this.editForm.ordid=t.ordid,3==t.advType?this.editForm.html=t.advContent:2==t.advType?this.editForm.link=t.advContent:4==t.advType&&(this.editForm.goodsName=t.goodsName,this.editForm.goodsId=t.advContent)},getedit:function(){var e=this;""!=this.editForm.imgname&&""!=this.editForm.type?3==this.editForm.type?""==this.editForm.html?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:2,advName:this.editForm.imgname,advId:this.editForm.advId,advImg:this.editForm.imageUrl,advType:this.editForm.type,advContent:this.editForm.html,ordid:this.editForm.ordid},success:function(t){console.log(t),1==t.code&&(e.$message({message:"修改成功",type:"success"}),e.getfind(),e.editVisible=!1)}}):4==this.editForm.type?""==this.editForm.goodsId?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:2,advName:this.editForm.imgname,advId:this.editForm.advId,advImg:this.editForm.imageUrl,advType:this.editForm.type,advContent:this.editForm.goodsId,ordid:this.editForm.ordid},success:function(t){console.log(t),e.getfind(),1==t.code&&(e.$message({message:"修改成功",type:"success"}),e.getfind(),e.editVisible=!1)}}):2==this.editForm.type?""==this.editForm.link?this.$message({message:"请将信息填写完整",type:"warning"}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:2,advName:this.editForm.imgname,advId:this.editForm.advId,advImg:this.editForm.imageUrl,advType:this.editForm.type,advContent:this.editForm.link,ordid:this.editForm.ordid},success:function(t){console.log(t),e.getfind(),1==t.code&&(e.$message({message:"修改成功",type:"success"}),e.getfind(),e.editVisible=!1)}}):this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:2,advName:this.editForm.imgname,advId:this.editForm.advId,advImg:this.editForm.imageUrl,advType:this.editForm.type,advContent:"",ordid:this.editForm.ordid},success:function(t){console.log(t),1==t.code&&(e.$message({message:"修改成功",type:"success"}),e.getfind(),e.editVisible=!1)}}):this.$message({message:"请将信息填写完整",type:"warning"})},geteditType:function(e){this.editForm.type=e},handleSelectionChange:function(e){this.multipleSelection=e;var t=[];e.forEach((function(e){t.push(e.advId)})),this.advIds=t},getdel:function(){var e=this;this.$api.post({path:"/manage/operationAdv",params:{token:this.token,type:3,advIds:this.advIds.join(",")},success:function(t){1==t.code?(e.$message({message:t.msg,type:"success"}),e.getfind()):e.$message({message:"请选择要删除的轮播图信息",type:"warning"}),console.log(t)}})}},mounted:function(){this.getfind(),this.selectgoodsFind(),this.getCate(),this.getselCate(0,1)},computed:{init:function(){var e=this;return{language_url:"tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"tinymce/skins/ui/oxide",width:"100%",height:400,plugins:"link lists image media code table colorpicker textcolor wordcount contextmenu",menubar:!1,toolbar:["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image media | code removeformat "],branding:!1,images_upload_handler:function(t,o,i){console.log(t,"imgres1"),e.$upload(t.blob()).then((function(e){console.log(e,"imgres");var t=e.result[0].url;o(t)}))}}}}}),l=s,r=(o("741e"),o("2877")),n=Object(r["a"])(l,i,a,!1,null,null,null);t["default"]=n.exports}}]);