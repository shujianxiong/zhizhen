(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c24eb0e"],{c7c9:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goodsclass"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"white","text-color":"#f999","active-text-color":"rgb(18,42,136)"},on:{select:t.handleSelect}},[s("el-menu-item",{attrs:{index:"1"}},[t._v("商品分类")])],1),s("div",{staticClass:"gClassmain"},[s("div",{staticClass:"classfind"},[s("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:t.formInline,size:"small"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"请输入一级分类"},model:{value:t.formInline.classA,callback:function(e){t.$set(t.formInline,"classA",e)},expression:"formInline.classA"}})],1),s("el-form-item",[s("el-button",{staticStyle:{"background-color":"rgb(54,116,255)",color:"white"},attrs:{icon:"el-icon-search"},on:{click:t.getfind}},[t._v("查询\n                    ")])],1)],1)],1),s("div",{staticClass:"classdata"},[s("el-row",{staticStyle:{"margin-bottom":"12px"}},[s("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){t.addVisible=!0}}},[t._v("添加")]),s("el-button",{staticClass:"delete",attrs:{size:"small",icon:"el-icon-close"},on:{click:function(e){t.outVisible=!0}}},[t._v("删除")])],1),s("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:t.tableData,"tooltip-effect":"dark","header-cell-style":t.getRowClass},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"80"}}),s("el-table-column",{attrs:{label:"id",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.$index+1)+"\n                    ")]}}])}),s("el-table-column",{attrs:{prop:"cateName",label:"一级分类"}}),s("el-table-column",{attrs:{prop:"ordid",label:"排序"}}),s("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:t.row.cateImg,height:"50",width:"50"}})]}}])}),s("el-table-column",{attrs:{label:"操作",width:"245"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑\n                        ")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.classB(e.$index,e.row)}}},[t._v("二级分类\n                        ")])]}}])})],1),s("div",{staticClass:"page",staticStyle:{display:"flex"}},[s("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"margin-left":"auto"}},[s("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagetotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)]),s("el-dialog",{staticClass:"editbox",attrs:{title:"编辑",visible:t.editVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.editVisible=e}}},[s("div",{staticClass:"information"},[s("div",{staticStyle:{width:"80%",margin:"0 auto"}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:t.ruleForm,rules:t.rules,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"一级分类",prop:"classA"}},[s("el-input",{attrs:{placeholder:"请输入一级分类"},model:{value:t.ruleForm.classA,callback:function(e){t.$set(t.ruleForm,"classA",e)},expression:"ruleForm.classA"}})],1),s("el-form-item",{attrs:{label:"排序序号"}},[s("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:t.ruleForm.sortNo,callback:function(e){t.$set(t.ruleForm,"sortNo",e)},expression:"ruleForm.sortNo"}})],1),s("el-form-item",{attrs:{label:"图片",prop:"pic"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":t.uploadImgs,"show-file-list":!1}},[s("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54,116,255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[t._v("上传\n                            ")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("推荐尺寸为80*80")])],1),s("div",{staticClass:"userimage"},[s("img",{directives:[{name:"show",rawName:"v-show",value:""==t.imageUrl,expression:"imageUrl==''"}],attrs:{src:t.imgurl,alt:""}}),t.imgurl?s("img",{staticClass:"avatar",attrs:{src:t.imgurl}}):t._e()])],1),s("div",{staticClass:"submitbtn",staticStyle:{"background-color":"rgb(54,116,255)",color:"white",width:"72px",height:"32px","line-height":"32px"},on:{click:function(e){t.editVisible=!1,t.getEditA()}}},[t._v("确定")])],1)],1)])]),s("el-dialog",{staticClass:"editbox",attrs:{title:"添加",visible:t.addVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.addVisible=e}}},[s("div",{staticClass:"information"},[s("div",{staticStyle:{width:"80%",margin:"0 auto"}},[s("el-form",{ref:"addForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:t.addForm,rules:t.addrules,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"一级分类",prop:"classA"}},[s("el-input",{attrs:{placeholder:"请输入一级分类"},model:{value:t.addForm.classA,callback:function(e){t.$set(t.addForm,"classA",e)},expression:"addForm.classA"}})],1),s("el-form-item",{attrs:{label:"排序序号"}},[s("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:t.addForm.sortNo,callback:function(e){t.$set(t.addForm,"sortNo",e)},expression:"addForm.sortNo"}})],1),s("el-form-item",{attrs:{label:"图片",prop:"pic"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":t.uploadImgs,"show-file-list":!1}},[s("el-button",{staticStyle:{"margin-top":"10px","background-color":"rgb(54,116,255)",color:"white"},attrs:{size:"small",icon:"el-icon-upload"}},[t._v("上传\n                            ")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("推荐尺寸为80*80")])],1),s("div",{staticClass:"userimage"},[t.imgurl?s("img",{staticClass:"avatar",attrs:{src:t.imgurl}}):t._e()])],1),s("div",{staticClass:"submitbtn",staticStyle:{"background-color":"rgb(54,116,255)",color:"white",width:"72px",height:"32px","line-height":"32px"},on:{click:function(e){return t.getOneCategoryList()}}},[t._v("确定")])],1)],1)])]),s("el-dialog",{staticClass:"editbox",attrs:{title:"二级分类",visible:t.classBVisible,width:"560px"},on:{"update:visible":function(e){t.classBVisible=e}}},[s("div",{staticClass:"information"},[s("div",{staticStyle:{width:"80%",margin:"0 auto"}},[s("el-form",{ref:"classBForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto","margin-bottom":"20px"},attrs:{model:t.classBForm,rules:t.classBrules,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"二级分类",prop:"classB"}},[s("el-input",{attrs:{placeholder:"请输入二级分类"},model:{value:t.classBForm.classB,callback:function(e){t.$set(t.classBForm,"classB",e)},expression:"classBForm.classB"}})],1),s("el-form-item",{attrs:{label:"排序序号"}},[s("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:t.classBForm.sortNo,callback:function(e){t.$set(t.classBForm,"sortNo",e)},expression:"classBForm.sortNo"}})],1),s("div",{staticClass:"submitbtn",staticStyle:{"background-color":"rgb(54,116,255)",color:"white",width:"72px",height:"32px","line-height":"32px"},on:{click:t.getclassBadd}},[t._v("添加")])],1),s("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:t.classBData,"tooltip-effect":"dark","header-cell-style":t.getRowClass},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{label:"id",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.$index+1)+"\n                        ")]}}])}),s("el-table-column",{attrs:{prop:"cateName",label:"二级分类"}}),s("el-table-column",{attrs:{prop:"ordid",label:"排序序号"}}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.classbEdit(e.$index,e.row)}}},[t._v("编辑\n                            ")]),s("el-button",{staticClass:"delete",attrs:{size:"small"},on:{click:function(s){return t.classbDel(e.$index,e.row)}}},[t._v("删除\n                            ")])]}}])})],1)],1)])]),s("el-dialog",{staticClass:"editbox",attrs:{title:"编辑二级分类",visible:t.editclassB,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(e){t.editclassB=e}}},[s("div",{staticClass:"information"},[s("div",{staticStyle:{width:"80%",margin:"0 auto"}},[s("el-form",{ref:"editBForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto","margin-bottom":"20px"},attrs:{model:t.editBForm,rules:t.editBrules,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"二级分类",prop:"classB"}},[s("el-input",{attrs:{placeholder:"请输入二级分类"},model:{value:t.editBForm.classB,callback:function(e){t.$set(t.editBForm,"classB",e)},expression:"editBForm.classB"}})],1),s("el-form-item",{attrs:{label:"排序序号"}},[s("el-input",{attrs:{placeholder:"请输入排序序号"},model:{value:t.editBForm.sortNo,callback:function(e){t.$set(t.editBForm,"sortNo",e)},expression:"editBForm.sortNo"}})],1),s("div",{staticClass:"submitbtn",staticStyle:{"background-color":"rgb(54,116,255)",color:"white",width:"72px",height:"32px","line-height":"32px"},on:{click:function(e){return t.getclassbEdit()}}},[t._v("确定")])],1)],1)])]),s("el-dialog",{attrs:{title:"删除",visible:t.outVisible,width:"30%"},on:{"update:visible":function(e){t.outVisible=e}}},[s("span",[t._v("确认删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.outVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.outVisible=!1,t.getdelte()}}},[t._v("确 定")])],1)])],1)},l=[],i=(s("ac6a"),{data:function(){return{activeIndex2:"1",pagetotal:0,pageSize:10,pageNum:1,token:localStorage.getItem("token"),outVisible:!1,formInline:{classA:""},currentPage:1,tableData:[],editVisible:!1,ruleForm:{classA:"",sortNo:"",cateId:""},rules:{classA:[{required:!0,message:"请输入一级分类",trigger:"blur"}],pic:[{required:!0,message:"请上传图片"}]},addVisible:!1,addForm:{classA:"",sortNo:""},addrules:{classA:[{required:!0,message:"请输入一级分类",trigger:"blur"}],pic:[{required:!0,message:"请上传图片"}]},classBVisible:!1,classBid:"",parentCateId:"",classBForm:{classB:"",sortNo:""},classBrules:{classB:[{required:!0,message:"请输入二级分类",trigger:"blur"}]},classBData:[],editclassB:!1,CateId:"",editBForm:{classB:"",sortNo:""},editBrules:{classB:[{required:!0,message:"请输入二级分类",trigger:"blur"}]},imageUrl:"",imgurl:"",cateIds:[]}},methods:{handleSelect:function(t,e){console.log(t,e)},getGoodslist:function(){var t=this;this.$api.post({path:"/manage/getOneCategoryList",params:{token:this.token,cateName:"",type:1},success:function(e){console.log(e),t.tableData=e.data.list,t.pagetotal=e.data.total}})},getfind:function(){var t=this;this.$api.post({path:"/manage/getOneCategoryList",params:{token:this.token,cateName:this.formInline.classA,type:1},success:function(e){console.log(e),t.tableData=e.data.list,t.pagetotal=e.data.total}})},getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:RGB(242,242,242)":""},submitbtn:function(){this.editVisible=!1},addsubmitbtn:function(){this.addVisible=!1},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.getGoodslist()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pageNum=t,this.getGoodslist()},uploadImgs:function(t){var e=this;this.$uploadFiles("http://manager.zhizhennengyuan.com:8000/mfxapi/multifileupload",t.file).then((function(t){e.imageUrl=t.result[0].relative_url,e.imgurl=t.result[0].url,console.log(t,"res2")}))},getOneCategoryList:function(){var t=this;""!=this.addForm.classA&&""!=this.imageUrl&&""!=this.imgurl?this.$api.post({path:"/manage/getOneCategoryList",params:{token:this.token,type:2,cateName:this.addForm.classA,cateImg:this.imageUrl,ordid:this.addForm.sortNo},success:function(e){console.log(e),1==e.code?(t.$message({message:e.msg,type:"success"}),t.addForm.classA="",t.imageUrl="",t.addForm.sortNo="",t.imgurl="",t.addVisible=!1,t.getGoodslist()):-1==e.code&&t.$message({message:e.msg,type:"warning"})}}):this.$message.error("请将信息填写完整")},handleSelectionChange:function(t){this.multipleSelection=t;var e=[];t.forEach((function(t){e.push(t.cateId)})),this.cateIds=e,console.log(e,"用户id")},getdelte:function(){var t=this;this.$api.post({path:"/manage/getOneCategoryList",params:{token:this.token,cateIds:this.cateIds.join(","),type:3},success:function(e){1==e.code?(t.$message({message:e.msg,type:"success"}),t.getGoodslist()):t.$message({message:e.msg,type:"warning"}),console.log(e)}})},handleEdit:function(t,e){console.log(t,e),this.editVisible=!0,this.ruleForm.classA=e.cateName,this.ruleForm.sortNo=e.ordid,this.ruleForm.cateId=e.cateId,this.imgurl=e.cateImg},getEditA:function(){var t=this;this.$api.post({path:"/manage/getOneCategoryList",params:{token:this.token,cateId:this.ruleForm.cateId,type:4,cateName:this.ruleForm.classA,cateImg:this.imageUrl,ordid:this.ruleForm.sortNo},success:function(e){console.log(e),1==e.code&&(t.$message({message:e.msg,type:"success"}),t.getGoodslist())}})},classB:function(t,e){console.log(t,e),this.classBVisible=!0,this.classBid=e.cateId,this.getTwocateList()},getTwocateList:function(){var t=this;this.$api.post({path:"/manage/getTwoCategoryList",params:{token:this.token,cateId:this.classBid,type:1},success:function(e){console.log(e),t.classBData=e.data}})},getclassBadd:function(){var t=this;""==this.classBForm.classB?this.$message({message:"请输入二级分类",type:"warning"}):this.$api.post({path:"/manage/getTwoCategoryList",params:{token:this.token,type:2,parentCateId:this.classBid,cateName:this.classBForm.classB,ordid:this.classBForm.sortNo},success:function(e){console.log(e),1==e.code?(t.$message({message:e.msg,type:"success"}),t.getTwocateList(),t.classBForm.classB="",t.classBForm.sortNo=""):t.$message.error(e.msg)}})},classbEdit:function(t,e){console.log(t,e),this.editclassB=!0,this.CateId=e.cateId,this.editBForm.classB=e.cateName,this.editBForm.sortNo=e.ordid},getclassbEdit:function(){var t=this;this.$api.post({path:"/manage/getTwoCategoryList",params:{token:this.token,type:4,cateId:this.CateId,parentCateId:this.classBid,cateName:this.editBForm.classB,ordid:this.editBForm.sortNo},success:function(e){1==e.code&&(t.$message({message:e.msg,type:"success"}),t.getTwocateList(),t.editclassB=!1),console.log(e)}})},classbDel:function(t,e){var s=this;console.log(t,e),this.$api.post({path:"/manage/getTwoCategoryList",params:{token:this.token,cateIds:e.cateId,type:3},success:function(t){console.log(t),1==t.code?(s.$message({message:t.msg,type:"success"}),s.getTwocateList()):-1==t.code&&s.$message({message:t.msg,type:"warning"})}})}},mounted:function(){this.getGoodslist()}}),o=i,r=(s("dd3f"),s("2877")),c=Object(r["a"])(o,a,l,!1,null,null,null);e["default"]=c.exports},dd3f:function(t,e,s){"use strict";var a=s("f8f6"),l=s.n(a);l.a},f8f6:function(t,e,s){}}]);